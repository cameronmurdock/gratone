<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ONE Local Nested Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
</head>
<body style="background-color: #1a1a1a;">
  <div id="root"></div>

  <!-- React and ReactDOM -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- Material-UI Components -->
  <script src="https://unpkg.com/@mui/material@5.11.0/umd/material-ui.development.js" crossorigin></script>
  <script src="https://unpkg.com/@mui/icons-material@5.11.0/umd/material-ui-icons.development.js" crossorigin></script>
  <!-- React Router for Nested Routing -->
  <script src="https://unpkg.com/react-router-dom/umd/react-router-dom.min.js"></script>

  <script type="text/babel">
    const { BrowserRouter, Routes, Route, Link, useNavigate } = ReactRouterDOM;
    const {
      AppBar,
      Toolbar,
      Typography,
      IconButton,
      Box,
      Avatar,
      Card,
      CardContent,
      Grid,
      Button,
      Tabs,
      Tab,
      Divider,
      List,
      ListItem,
      ListItemAvatar,
      ListItemText,
      Paper,
    } = MaterialUI;

    // Main Layout Component
    function Layout({ children }) {
      return (
        <Box>
          <AppBar position="static" sx={{ backgroundColor: '#004d40' }}>
            <Toolbar>
              <Typography variant="h6" sx={{ flexGrow: 1 }}>
                ONE Local
              </Typography>
              <IconButton color="inherit">
                <span className="material-icons">account_circle</span>
              </IconButton>
            </Toolbar>
          </AppBar>
          <Box sx={{ display: 'flex' }}>
            <SideNavigation />
            <Box component="main" sx={{ p: 2, flexGrow: 1 }}>
              {children}
            </Box>
          </Box>
        </Box>
      );
    }

    // Side Navigation for main categories
    function SideNavigation() {
      return (
        <Box sx={{ width: 240, bgcolor: '#2e2e2e', color: '#fff', height: '100vh', p: 2 }}>
          <Typography variant="h6" sx={{ mb: 2 }}>Navigation</Typography>
          <List>
            <ListItem button component={Link} to="/">
              <ListItemText primary="Dashboard" />
            </ListItem>
            <ListItem button component={Link} to="/groups">
              <ListItemText primary="Groups" />
            </ListItem>
            <ListItem button component={Link} to="/profile">
              <ListItemText primary="My Profile" />
            </ListItem>
          </List>
        </Box>
      );
    }

    // Dashboard View
    function Dashboard() {
      return (
        <Box>
          <Typography variant="h4">Dashboard</Typography>
          <Divider sx={{ my: 2 }} />
          <Typography variant="body1">Welcome to the ONE Local Dashboard.</Typography>
        </Box>
      );
    }

    // Groups View with individual group links
    function GroupsView() {
      return (
        <Box>
          <Typography variant="h4">Groups</Typography>
          <Divider sx={{ my: 2 }} />
          <List>
            <ListItem button component={Link} to="/groups/1">
              <ListItemText primary="Community Gardening Group" />
            </ListItem>
            <ListItem button component={Link} to="/groups/2">
              <ListItemText primary="Local Artists Collective" />
            </ListItem>
          </List>
        </Box>
      );
    }

    // Individual Group View
    function GroupDetail({ groupId }) {
      return (
        <Box>
          <Typography variant="h4">Group Detail: {groupId}</Typography>
          <Divider sx={{ my: 2 }} />
          <Card sx={{ p: 2, mb: 2 }}>
            <Typography variant="h6">Upcoming Events</Typography>
            <List>
              <ListItem>
                <ListItemText primary="Garden Party" secondary="Sat, Jan 5 - 2:00 PM" />
              </ListItem>
              <ListItem>
                <ListItemText primary="Art Exhibition" secondary="Fri, Jan 3 - 3:00 PM" />
              </ListItem>
            </List>
          </Card>
          <Card sx={{ p: 2, mb: 2 }}>
            <Typography variant="h6">Member Feed</Typography>
            <List>
              <ListItem>
                <ListItemAvatar>
                  <Avatar src="https://via.placeholder.com/150" />
                </ListItemAvatar>
                <ListItemText primary="Mieke Smith" secondary="Lorem ipsum dolor sit amet." />
              </ListItem>
              <ListItem>
                <ListItemAvatar>
                  <Avatar src="https://via.placeholder.com/150" />
                </ListItemAvatar>
                <ListItemText primary="James Dean" secondary="Definitely with this!" />
              </ListItem>
            </List>
          </Card>
        </Box>
      );
    }

    // Profile View with nested tabs for skills, sharing, and badges
    function ProfileView() {
      return (
        <Box>
          <Typography variant="h4">My Profile</Typography>
          <Divider sx={{ my: 2 }} />
          <Grid container spacing={2}>
            <Grid item xs={12} sm={4}>
              <Card sx={{ p: 2 }}>
                <Avatar src="https://via.placeholder.com/150" sx={{ width: 80, height: 80, mb: 2 }} />
                <Typography variant="h6">Cameron Murdock</Typography>
                <Button variant="contained" color="primary" sx={{ mt: 2 }}>Message</Button>
              </Card>
            </Grid>
            <Grid item xs={12} sm={8}>
              <Tabs centered>
                <Tab label="Skills" />
                <Tab label="Sharing" />
                <Tab label="Badges" />
              </Tabs>
              <Divider sx={{ my: 2 }} />
              <Box>
                <Typography variant="body1">Skills: Designing, Art Making</Typography>
                <Typography variant="body1">Sharing: Painting - OFFER</Typography>
                <Typography variant="body1">Badges: Community Leader</Typography>
              </Box>
            </Grid>
          </Grid>
        </Box>
      );
    }

    // Main App with Routes for each section
    function App() {
      return (
        <BrowserRouter>
          <Routes>
            <Route path="/" element={<Layout><Dashboard /></Layout>} />
            <Route path="groups" element={<Layout><GroupsView /></Layout>} />
            <Route path="groups/:groupId" element={<Layout><GroupDetail /></Layout>} />
            <Route path="profile" element={<Layout><ProfileView /></Layout>} />
          </Routes>
        </BrowserRouter>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ONE Local Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700|Playfair+Display&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(-45deg, #d1c4e9, #c5cae9, #b3e5fc, #b2dfdb);
      background-size: 400% 400%;
      animation: gradientAnimation 60s ease infinite;
      color: #333333;
    }
    @keyframes gradientAnimation {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .app-container { display: flex; flex-direction: column; height: 100vh; }
    .top-bar {
      background-color: #004d40;
      color: white;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .search-bar {
      background-color: white;
      border-radius: 4px;
      padding: 0.5rem;
      width: 200px;
      border: none;
    }
    .tabs {
      display: flex;
      justify-content: center;
      background-color: #003642;
      padding: 0.5rem;
    }
    .tab {
      color: #93a1a1;
      border: none;
      background: none;
      padding: 0.5rem 1rem;
      cursor: pointer;
    }
    .tab.active {
      color: white;
      border-bottom: 2px solid white;
    }
    .dashboard {
      display: grid;
      grid-template-columns: 1fr 2fr 1fr;
      gap: 1rem;
      padding: 1rem;
    }
    .panel {
      background-color: #003642;
      color: white;
      padding: 1rem;
      border-radius: 4px;
    }
    .post-card {
      background-color: #003642;
      color: white;
      margin-bottom: 1rem;
      padding: 1rem;
      border-radius: 4px;
      cursor: pointer;
    }
    .post-header {
      display: flex;
      align-items: center;
      margin-bottom: 1rem;
    }
    .modalContent {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;
      max-width: 600px;
      background-color: #ffffff;
      border-radius: 10px;
      padding: 20px;
      outline: none;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <script type="text/babel">
    const { useState } = React;
    const posts = [
      { id: 1, user: "Cameron Ely-Murdock", content: "Free yoga class tomorrow!", avatar: "https://via.placeholder.com/50", type: "Event" },
      { id: 2, user: "Emily Clark", content: "Community garden help needed.", avatar: "https://via.placeholder.com/50", type: "Request" },
    ];

    function TopBar() {
      return (
        <div className="top-bar">
          <h1>ONE Local</h1>
          <input className="search-bar" placeholder="Search" />
          <span className="material-icons">account_circle</span>
        </div>
      );
    }

    function Tabs({ activeTab, setActiveTab }) {
      const tabs = ["Events", "Orgs", "Groups", "Sharing", "Services"];
      return (
        <div className="tabs">
          {tabs.map((tab) => (
            <button
              key={tab}
              className={`tab ${activeTab === tab ? 'active' : ''}`}
              onClick={() => setActiveTab(tab)}
            >
              {tab}
            </button>
          ))}
        </div>
      );
    }

    function Feed({ posts, openModal }) {
      return (
        <div>
          {posts.map((post) => (
            <div key={post.id} className="post-card" onClick={() => openModal(post)}>
              <div className="post-header">
                <img src={post.avatar} alt={post.user} className="avatar" />
                <div>
                  <h4>{post.user}</h4>
                  <p>{post.content}</p>
                </div>
              </div>
            </div>
          ))}
        </div>
      );
    }

    function ChatsPanel() {
      return (
        <div className="panel">
          <h2>Chats</h2>
          <p>Chat content goes here...</p>
        </div>
      );
    }

    function MapPanel() {
      return (
        <div className="panel">
          <h2>Map</h2>
          <div style={{ height: "200px", backgroundColor: "#073642" }}>Map Placeholder</div>
        </div>
      );
    }

    function Modal({ post, onClose }) {
      if (!post) return null;
      return (
        <div className="modalContent">
          <h2>{post.user}</h2>
          <p>{post.content}</p>
          <button onClick={onClose}>Close</button>
        </div>
      );
    }

    function App() {
      const [activeTab, setActiveTab] = useState("Events");
      const [selectedPost, setSelectedPost] = useState(null);

      const openModal = (post) => setSelectedPost(post);
      const closeModal = () => setSelectedPost(null);

      return (
        <div className="app-container">
          <TopBar />
          <Tabs activeTab={activeTab} setActiveTab={setActiveTab} />
          <div className="dashboard">
            <ChatsPanel />
            <Feed posts={posts} openModal={openModal} />
            <MapPanel />
          </div>
          <Modal post={selectedPost} onClose={closeModal} />
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ONE Local User Profile</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', sans-serif;
      background: linear-gradient(120deg, #004d40, #002b36);
      color: #ffffff;
    }
    .profile-container { display: flex; padding: 20px; gap: 20px; }
    .left-panel { width: 300px; background-color: #003642; padding: 20px; border-radius: 10px; }
    .right-panel { flex: 1; background-color: #003642; padding: 20px; border-radius: 10px; }
    .avatar { width: 150px; height: 150px; border-radius: 50%; margin-bottom: 20px; }
    .badge { background-color: #004d40; padding: 5px 10px; border-radius: 10px; font-size: 0.8rem; margin: 5px; }
  </style>
</head>
<body>
  <div id="root"></div>

  <script type="text/babel">
    const {
      Box,
      Avatar,
      Typography,
      Button,
      Grid,
      Tabs,
      Tab,
      Card,
      CardContent,
      Chip,
      List,
      ListItem,
      ListItemText,
      Divider,
      Modal,
      Paper,
    } = MaterialUI;

    const userProfile = {
      avatar: "https://via.placeholder.com/150",
      name: "Cameron Murdock",
      role: "Community Coach",
      location: "Boulder, CO",
      given: "19.5k",
      received: "20k",
      trustScore: "97.5%",
      skills: ["Designing", "Art Making"],
      sharing: ["Painting (Offer)"],
      badges: ["Community Leader", "Top Contributor"],
      posts: [
        { id: 1, content: "Offering free yoga class tomorrow!", date: "Nov 13, 2024" },
        { id: 2, content: "Looking for volunteers for the community garden.", date: "Nov 14, 2024" },
      ],
      services: ["Yoga Coaching", "Art Consultation"],
      connections: ["Teresa Grant", "Bob Jones"],
      events: ["Garden Party", "Meditation Workshop"],
    };

    function ObjectModal({ open, onClose, title, content }) {
      return (
        <Modal open={open} onClose={onClose}>
          <Paper sx={{ width: 400, padding: 2, margin: 'auto', marginTop: '20vh' }}>
            <Typography variant="h6">{title}</Typography>
            <Divider sx={{ my: 2 }} />
            <Typography variant="body1">{content}</Typography>
            <Button onClick={onClose} fullWidth variant="contained" color="primary" sx={{ mt: 2 }}>
              Close
            </Button>
          </Paper>
        </Modal>
      );
    }

    function ListWithModals({ title, items }) {
      const [selectedItem, setSelectedItem] = React.useState(null);

      const handleClick = (item) => {
        setSelectedItem(item);
      };

      const handleClose = () => {
        setSelectedItem(null);
      };

      return (
        <>
          <Typography variant="h6">{title}</Typography>
          <List>
            {items.map((item, index) => (
              <ListItem button key={index} onClick={() => handleClick(item)}>
                <ListItemText primary={item} />
              </ListItem>
            ))}
          </List>

          {selectedItem && (
            <ObjectModal
              open={Boolean(selectedItem)}
              onClose={handleClose}
              title={title}
              content={selectedItem}
            />
          )}
        </>
      );
    }

    function RightPanel({ user }) {
      const [tabIndex, setTabIndex] = React.useState(0);

      return (
        <Box className="right-panel">
          <Tabs
            value={tabIndex}
            onChange={(e, newIndex) => setTabIndex(newIndex)}
            centered
            textColor="inherit"
            indicatorColor="secondary"
          >
            <Tab label="Overview" />
            <Tab label="Posts" />
            <Tab label="Services" />
            <Tab label="Connections" />
            <Tab label="Events" />
          </Tabs>

          {tabIndex === 0 && (
            <ListWithModals title="Badges" items={user.badges} />
          )}
          {tabIndex === 1 && (
            <ListWithModals title="Posts" items={user.posts.map(post => post.content)} />
          )}
          {tabIndex === 2 && (
            <ListWithModals title="Services" items={user.services} />
          )}
          {tabIndex === 3 && (
            <ListWithModals title="Connections" items={user.connections} />
          )}
          {tabIndex === 4 && (
            <ListWithModals title="Events" items={user.events} />
          )}
        </Box>
      );
    }

    function LeftPanel({ user }) {
      return (
        <Box className="left-panel">
          <Avatar src={user.avatar} className="avatar" />
          <Typography variant="h5">{user.name}</Typography>
          <Typography variant="subtitle1">{user.role}</Typography>
          <Typography variant="subtitle2">{user.location}</Typography>

          <Divider sx={{ my: 2 }} />

          <Typography variant="h6">Skills</Typography>
          {user.skills.map(skill => (
            <Chip key={skill} label={skill} className="badge" />
          ))}

          <Typography variant="h6" sx={{ mt: 2 }}>Sharing</Typography>
          {user.sharing.map(item => (
            <Chip key={item} label={item} className="badge" />
          ))}

          <Typography variant="h6" sx={{ mt: 2 }}>Badges</Typography>
          {user.badges.map(badge => (
            <Chip key={badge} label={badge} className="badge" />
          ))}
        </Box>
      );
    }

    function UserProfile() {
      return (
        <div className="profile-container">
          <LeftPanel user={userProfile} />
          <RightPanel user={userProfile} />
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<UserProfile />);
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tabbed Co-op Docs with General, Patron, and Steward</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      display: flex;
      min-height: 100vh;
      background: #fdfdfd;
      color: #222;
    }

    /* Sidebar */
    .sidebar {
      width: 360px;
      border-right: 1px solid #ccc;
      padding: 20px;
      background: #fafafa;
      overflow-y: auto;
    }

    .sidebar h1 {
      margin-top: 0;
      font-size: 1.3rem;
      margin-bottom: 1rem;
    }

    /* Form elements */
    label {
      font-weight: 600;
      display: block;
      margin-top: 15px;
      margin-bottom: 5px;
    }
    input, select, textarea {
      width: 100%;
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      padding: 8px;
      margin-bottom: 8px;
      box-sizing: border-box;
      border: 1px solid #ccc;
      border-radius: 4px;
    }

    /* Main container with tabs */
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: #ffffff;
    }

    /* Tabs at top of main area */
    .tabs {
      display: flex;
      border-bottom: 1px solid #ccc;
      background: #f8f8f8;
    }
    .tab {
      padding: 12px 16px;
      cursor: pointer;
      border-right: 1px solid #ccc;
      font-weight: 500;
      transition: background 0.2s;
      font-size: 14px;
    }
    .tab.active {
      background: #ffffff;
      border-bottom: 2px solid #333;
    }
    .tab:hover {
      background: #f0f0f0;
    }

    /* Tab content styling */
    .tab-content {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }
    .tab-content h2 {
      margin-top: 0;
      margin-bottom: 16px;
      font-size: 1.25rem;
      border-bottom: 1px solid #ddd;
      padding-bottom: 8px;
    }
    
    /* Template output area */
    .template-output {
      white-space: pre-wrap; 
      background: #f9f9f9; 
      padding: 16px; 
      border-radius: 6px; 
      font-family: 'Inter', sans-serif;
      font-size: 14px;
      line-height: 1.5;
      margin-top: 12px;
      color: #333;
    }

    /* Distribution warning */
    .warning {
      color: #b00020;
      font-size: 0.9rem;
      margin: 4px 0 0 0;
      font-weight: 600;
    }

    hr {
      border: none;
      border-bottom: 1px solid #ddd;
      margin: 16px 0;
    }
  </style>
</head>
<body>
  <!-- React & Babel -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>

  <div id="root"></div>

  <script type="text/babel">
    function App() {
      // We'll store all user inputs in a state object
      const [formData, setFormData] = React.useState({
        // Basic / Articles info
        cooperativeName: 'ONE Local Co-op',
        coopEntityType: 'Public Benefit Corporation',
        stateOfFormation: 'Colorado',
        missionStatement: 'Fostering equitable resource sharing and local resilience.',
        registeredAgent: '',
        boardSize: '5',
        boardDirectorNames: 'Director One\nDirector Two',
        
        // Bylaws details
        membershipFee: '$22 per month',
        quorumRequirement: '50%',
        voteThreshold: '75%',
        fiscalYearEnd: 'December 31',

        // Distribution fields
        generalDistPercent: '0',
        patronDistPercent: '25',
        stewardDistPercent: '25',

        // Patron
        patronClassName: 'Patron Member',
        patronFee: '$22/month',
        productScope: 'Sell or promote products/services via the co-op platform.',
        inAppPayoutDetails: 'Stripe Connect (intrastate only), multi-sig for large withdrawals.',
        patronDistributionTerms: 'Allocated proportionally based on fees each Patron’s activity generates.',

        // Steward
        totalStewardShares: '10000000',
        stewardSharePrice: '$1',
        maxOwnership: '5%',
        stewardDistribution: 'Pro-rata among Stewards by shares held.',
        stewardAllocationsInitial: 'John Doe: 5,000 shares\nJane Austin: 20,000 shares',
        futureMilestoneLogic: 'If 100x ROI is reached, co-op may mint an additional 90 million shares.',

        // Officers
        secretaryName: 'User 1 (Secretary)',
        treasurerName: 'User 2 (Treasurer)',
        directorName: 'User 3 (Director)',
        
        // disclaimers
        disclaimers: `DISCLAIMER - SECURITIES & INTRASTATE OFFERING (RULE 147A):
• No formal "Form 147A" is filed with the SEC. The exemption is self-executing if all conditions are met.
• Sales must be limited to in-state residents; at least 80% of business in-state.
• Transfer restrictions apply (6 months min before out-of-state resale).
• Also consider Colorado state exemptions (C.R.S. §§ 11-51-101 et seq.).
• No guaranteed returns. Surplus depends on net profit.
• Consult an attorney for compliance with relevant securities laws.`
      });

      const [activeTab, setActiveTab] = React.useState('articles'); // default tab

      // Handle input changes
      const handleChange = (e) => {
        const { name, value } = e.target;
        setFormData(prev => ({ ...prev, [name]: value }));
      };

      // Convert distribution inputs to numbers
      const generalDistNum = parseFloat(formData.generalDistPercent) || 0;
      const patronDistNum = parseFloat(formData.patronDistPercent) || 0;
      const stewardDistNum = parseFloat(formData.stewardDistPercent) || 0;

      // Validate that total membership distribution is >= 50
      const membershipTotal = generalDistNum + patronDistNum + stewardDistNum;
      const distributionWarning = membershipTotal < 50
        ? `Warning: Current membership distribution total is ${membershipTotal}%. It must be at least 50%.`
        : '';

      // 1. Articles of Incorporation
      const articlesTemplate = `
ARTICLES OF INCORPORATION
(for a ${formData.coopEntityType} in ${formData.stateOfFormation})

1. NAME & FORMATION
   The name of the cooperative is "${formData.cooperativeName}" (the "Cooperative").
   It is organized under the laws of ${formData.stateOfFormation} as a ${formData.coopEntityType}.

2. PURPOSE
   The purpose of the Cooperative is to engage in any lawful activity
   consistent with a public-benefit cooperative, including:
   • ${formData.missionStatement}

3. PRINCIPAL OFFICE & REGISTERED AGENT
   • Principal office in ${formData.stateOfFormation}.
   • Registered Agent: ${formData.registeredAgent}.

4. DIRECTORS
   The number of Directors shall initially be ${formData.boardSize}, or as set forth
   in the Bylaws. Initial Directors may include:
   ${formData.boardDirectorNames}

5. BENEFIT MISSION
   As a Public Benefit Corporation (or LCA), the Cooperative commits to
   advancing social and community well-being, as outlined in its Bylaws.

6. AMENDMENTS
   Amendments to these Articles require approval per the Bylaws.

7. EFFECTIVE DATE
   These Articles become effective upon filing with the Secretary of State.

${formData.disclaimers}
`;

      // 2. Bylaws
      const bylawsTemplate = `
BYLAWS OF ${formData.cooperativeName}

1. NAME & PURPOSE
   1.1 Name: ${formData.cooperativeName}
   1.2 Purpose: To operate as a multi-stakeholder public-benefit cooperative
       focusing on ${formData.missionStatement}.

2. MEMBERSHIP & FEES
   2.1 Classes:
       • General Members
       • ${formData.patronClassName}
       • Steward Members
   2.2 Membership Fee: ${formData.membershipFee} (may be adjusted by Board).
   2.3 Acceptance & Transfer: Subject to Board approval. Membership is non-transferable
       except as stated in these Bylaws.

3. BOARD OF DIRECTORS
   3.1 Size: The Board consists of ${formData.boardSize} directors (or as set
       by the Co-op).
   3.2 Officers: Must include Secretary (${formData.secretaryName}) and Treasurer (${formData.treasurerName}), 
       plus any other roles designated by the Board.
   3.3 Meetings: Annual & special. Notice given to all directors.
   3.4 Quorum: ${formData.quorumRequirement}% of directors or members; major decisions need
       ${formData.voteThreshold}% approval (unless otherwise stated in these Bylaws).

4. FISCAL & SURPLUS
   4.1 Fiscal Year End: ${formData.fiscalYearEnd}.
   4.2 Determination of Surplus:
       The Board shall determine the net surplus after paying expenses, reserving capital,
       and fulfilling other obligations.
   4.3 Distribution Policy:
       (a) **General Members**: ${formData.generalDistPercent}% of net surplus allocated among
           General Members as determined by their participation level or usage, if any.
       (b) **${formData.patronClassName}**: ${formData.patronDistPercent}% of net surplus allocated among
           Patron Members, based on the fees or revenue each Patron's activity generated.
       (c) **Steward Members**: ${formData.stewardDistPercent}% of net surplus allocated among Stewards
           pro rata by shares held.
       (d) **Minimum Total to Membership**: General + Patron + Steward distributions shall
           never be less than 50% in aggregate.
       (e) **Remaining Surplus**:
           The Board may allocate any remainder to co-op reserves, expansions,
           or other Co-op initiatives.
   4.4 No Guarantee of Distribution:
       Actual net surplus and distribution depend on the Cooperative's performance.

5. GENERAL MEMBERS
   5.1 Scope: General Members have a single vote if designated by the Board or Bylaws,
       but typically do not engage in Patron or Steward activities.
   5.2 Fee: Included in the standard membership fee or as determined by Board policy.

6. PATRON MEMBERS
   6.1 Fee: ${formData.patronFee}
   6.2 Scope of Activity: ${formData.productScope}
   6.3 In-App Tracking/Payout: ${formData.inAppPayoutDetails}
   6.4 Distribution Terms: ${formData.patronDistributionTerms}

7. STEWARD MEMBERS
   7.1 Total Shares: ${formData.totalStewardShares} @ ${formData.stewardSharePrice} each
   7.2 Max Ownership: ${formData.maxOwnership} per individual/entity.
   7.3 Distribution: ${formData.stewardDistribution}
   7.4 Future Milestones: ${formData.futureMilestoneLogic}
   7.5 Initial Allocations:
       ${formData.stewardAllocationsInitial}

8. TERMINATION & EXPULSION
   8.1 Voluntary: A Member may resign by providing written notice.
   8.2 Expulsion: The Board may expel for lawful reasons, following notice and an opportunity to respond.

9. DISSOLUTION
   After debts & returning member equity, leftover assets are distributed among
   membership classes or patrons in accordance with these Bylaws.

10. AMENDMENTS
   The Board or membership (if required) can amend these Bylaws following the procedures
   set forth herein.

11. DISCLAIMERS & EXEMPTIONS
${formData.disclaimers}
`;

      // 3. Patron Membership Agreement
      const patronAgreementTemplate = `
${formData.cooperativeName}
PATRON MEMBERSHIP AGREEMENT

1. PARTIES
   The Cooperative: ${formData.cooperativeName}
   The Member: [PATRON_NAME]

2. CLASS & FEE
   Member joins as a "${formData.patronClassName}" upon paying ${formData.patronFee}
   and signing this Agreement.

3. RIGHTS & OBLIGATIONS
   - May have voting rights if granted by Bylaws.
   - May engage in the co-op platform to ${formData.productScope}
   - Must abide by Bylaws, policies, and maintain good standing.

4. PATRONAGE SURPLUS ALLOCATION
   - Per the Bylaws, ${formData.patronDistPercent}% of net surplus is allocated to Patron Members.
   - ${formData.patronDistributionTerms}
   - No guaranteed return; actual surplus depends on net income after expenses.

5. IN-APP TRACKING & PAYOUT
   ${formData.inAppPayoutDetails}

6. TERMINATION
   - Member may withdraw by written notice.
   - Board may expel if warranted under the Bylaws.

7. DISCLAIMER
${formData.disclaimers}

Signatures:
- [PATRON_NAME], Patron Member
- [COOP_REP], ${formData.cooperativeName}
Date: __________
`;

      // 4. Steward Membership Agreement
      const stewardAgreementTemplate = `
${formData.cooperativeName}
STEWARD MEMBERSHIP AGREEMENT

1. PARTIES
   The Cooperative: ${formData.cooperativeName}
   The Steward: [STEWARD_NAME]

2. STEWARD SHARES
   - Total authorized: ${formData.totalStewardShares} @ ${formData.stewardSharePrice} each.
   - Max ownership: ${formData.maxOwnership}.
   - Initial allocations (example):
       ${formData.stewardAllocationsInitial}

3. DISTRIBUTION OF SURPLUS
   - Per the Bylaws, ${formData.stewardDistPercent}% of net surplus is allocated among Stewards,
     pro rata by shares held.
   - ${formData.stewardDistribution}
   - No guaranteed ROI. Surpluses depend on actual net profits.

4. FUTURE MILESTONES
   - ${formData.futureMilestoneLogic}

5. TRANSFER & REDEMPTION
   - Steward Shares are non-transferable except as allowed by the Bylaws.
   - The Co-op may repurchase shares at par/book value upon withdrawal or expulsion,
     as set by Board policy.

6. TERMINATION
   - A Steward may withdraw via written notice.
   - Board may expel for lawful reasons, with due process.

7. DISCLAIMERS & EXEMPTIONS
${formData.disclaimers}

Signatures:
- [STEWARD_NAME], Steward Member
- [COOP_REP], ${formData.cooperativeName}
Date: __________
`;

      // Tab content
      function TabContent({ label, template }) {
        return (
          <div className="tab-content">
            <h2>{label}</h2>
            <div className="template-output">{template}</div>
          </div>
        );
      }

      // Define the tabs
      const TABS = [
        { key: 'articles', label: 'Articles of Incorporation', content: articlesTemplate },
        { key: 'bylaws', label: 'Bylaws', content: bylawsTemplate },
        { key: 'patron', label: 'Patron Agreement', content: patronAgreementTemplate },
        { key: 'steward', label: 'Steward Agreement', content: stewardAgreementTemplate },
      ];

      return (
        <div style={{ display: 'flex', width: '100%' }}>
          {/* Sidebar Form */}
          <div className="sidebar">
            <h1>Co-op Docs Generator</h1>
            
            {distributionWarning && (
              <div className="warning">{distributionWarning}</div>
            )}

            <label>Cooperative Name:</label>
            <input name="cooperativeName" value={formData.cooperativeName} onChange={handleChange} />

            <label>Entity Type (PBC, LCA, etc.):</label>
            <input name="coopEntityType" value={formData.coopEntityType} onChange={handleChange} />

            <label>State of Formation:</label>
            <input name="stateOfFormation" value={formData.stateOfFormation} onChange={handleChange} />

            <label>Mission Statement:</label>
            <textarea name="missionStatement" rows="2" value={formData.missionStatement} onChange={handleChange} />

            <label>Registered Agent:</label>
            <input name="registeredAgent" value={formData.registeredAgent} onChange={handleChange} />

            <label>Initial Board Size:</label>
            <input name="boardSize" value={formData.boardSize} onChange={handleChange} type="number" />

            <label>Board Director Names (line separated):</label>
            <textarea name="boardDirectorNames" rows="2" value={formData.boardDirectorNames} onChange={handleChange} />

            <hr />

            <label>Membership Fee (Bylaws):</label>
            <input name="membershipFee" value={formData.membershipFee} onChange={handleChange} />

            <label>Quorum Requirement (%):</label>
            <input name="quorumRequirement" value={formData.quorumRequirement} onChange={handleChange} />

            <label>Vote Threshold (%):</label>
            <input name="voteThreshold" value={formData.voteThreshold} onChange={handleChange} />

            <label>Fiscal Year End:</label>
            <input name="fiscalYearEnd" value={formData.fiscalYearEnd} onChange={handleChange} />

            <hr />

            <h3>Membership Distribution %</h3>
            <label>General Members %</label>
            <input
              name="generalDistPercent"
              value={formData.generalDistPercent}
              onChange={handleChange}
              type="number"
            />

            <label>Patron Members %</label>
            <input
              name="patronDistPercent"
              value={formData.patronDistPercent}
              onChange={handleChange}
              type="number"
            />

            <label>Steward Members %</label>
            <input
              name="stewardDistPercent"
              value={formData.stewardDistPercent}
              onChange={handleChange}
              type="number"
            />

            <hr />

            <h3>Patron Class Fields</h3>
            <label>Patron Class Name:</label>
            <input name="patronClassName" value={formData.patronClassName} onChange={handleChange} />

            <label>Patron Fee:</label>
            <input name="patronFee" value={formData.patronFee} onChange={handleChange} />

            <label>Product/Service Scope:</label>
            <textarea name="productScope" rows="2" value={formData.productScope} onChange={handleChange} />

            <label>In-App Payout Details:</label>
            <textarea name="inAppPayoutDetails" rows="2" value={formData.inAppPayoutDetails} onChange={handleChange} />

            <label>Patron Distribution Terms (text):</label>
            <textarea name="patronDistributionTerms" rows="2" value={formData.patronDistributionTerms} onChange={handleChange} />

            <hr />

            <h3>Steward Class Fields</h3>
            <label>Total Steward Shares:</label>
            <input name="totalStewardShares" value={formData.totalStewardShares} onChange={handleChange} />

            <label>Steward Share Price:</label>
            <input name="stewardSharePrice" value={formData.stewardSharePrice} onChange={handleChange} />

            <label>Max Ownership %:</label>
            <input name="maxOwnership" value={formData.maxOwnership} onChange={handleChange} />

            <label>Steward Distribution Explanation:</label>
            <textarea name="stewardDistribution" rows="2" value={formData.stewardDistribution} onChange={handleChange} />

            <label>Initial Steward Allocations:</label>
            <textarea name="stewardAllocationsInitial" rows="3" value={formData.stewardAllocationsInitial} onChange={handleChange} />

            <label>Future Milestone Logic:</label>
            <textarea name="futureMilestoneLogic" rows="2" value={formData.futureMilestoneLogic} onChange={handleChange} />

            <hr />

            <label>Secretary:</label>
            <input name="secretaryName" value={formData.secretaryName} onChange={handleChange} />

            <label>Treasurer:</label>
            <input name="treasurerName" value={formData.treasurerName} onChange={handleChange} />

            <label>Another Director/Officer:</label>
            <input name="directorName" value={formData.directorName} onChange={handleChange} />

            <hr />

            <label>Disclaimers (includes 147A info):</label>
            <textarea name="disclaimers" rows="7" value={formData.disclaimers} onChange={handleChange} />
          </div>

          {/* Main content with tabs */}
          <div className="main">
            <div className="tabs">
              {TABS.map(t => (
                <div
                  key={t.key}
                  className={`tab ${activeTab === t.key ? 'active' : ''}`}
                  onClick={() => setActiveTab(t.key)}
                >
                  {t.label}
                </div>
              ))}
            </div>
            
            {TABS.filter(t => t.key === activeTab).map(t => (
              <TabContent key={t.key} label={t.label} template={t.content} />
            ))}
          </div>
        </div>
      );
    }

    function TabContent({ label, template }) {
      return (
        <div className="tab-content">
          <h2>{label}</h2>
          <div className="template-output">
            {template}
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Co-op Docs Generator with Exemption Disclaimers</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      display: flex;
      min-height: 100vh;
    }
    .sidebar {
      width: 360px;
      border-right: 1px solid #ccc;
      padding: 20px;
      background: #fefefe;
      overflow-y: auto;
    }
    .main {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
      background: #ffffff;
    }
    label {
      font-weight: 600;
      display: block;
      margin-top: 15px;
      margin-bottom: 5px;
    }
    input, select, textarea {
      width: 100%;
      padding: 8px;
      margin-bottom: 8px;
      box-sizing: border-box;
    }
    .template-output {
      white-space: pre-wrap; 
      background: #f9f9f9; 
      padding: 10px; 
      border-radius: 6px; 
      margin-bottom: 24px;
      font-family: monospace;
      font-size: 0.9rem;
      line-height: 1.5;
    }
    h2 {
      margin-top: 30px;
      font-size: 1.25rem;
      border-bottom: 1px solid #ddd;
      padding-bottom: 8px;
    }
    h1 {
      margin-bottom: 1rem;
    }
  </style>
</head>
<body>
  <!-- React & Babel -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>

  <div id="root"></div>

  <script type="text/babel">
    function App() {
      // We'll store all user inputs in a state object
      const [formData, setFormData] = React.useState({
        // Basic / Articles info
        cooperativeName: 'ONE Local Co-op',
        coopEntityType: 'Public Benefit Corporation',
        stateOfFormation: 'Colorado',
        missionStatement: 'Local community empowerment and equitable resource sharing.',
        registeredAgent: '',
        boardSize: '5',
        boardDirectorNames: 'Director One\nDirector Two',
        
        // Bylaws details
        membershipFee: '$22 per month',
        quorumRequirement: '50%',
        voteThreshold: '75%',
        fiscalYearEnd: 'December 31',

        // Patron Class fields
        patronClassName: 'Patron Member',
        patronFee: '$22/month',
        patronDistributionTerms: 'Quarterly refund based on net product sales surplus.',
        productScope: 'Offer products or services via the co-op platform.',
        inAppPayoutDetails: 'Stripe Connect (intrastate only), multi-sig for large withdrawals.',

        // Steward Class fields
        totalStewardShares: '10000000',
        stewardSharePrice: '$1',
        maxOwnership: '5%',
        stewardDistribution: '25% of net profits allocated pro-rata by shares.',
        stewardAllocationsInitial: 'John Doe: 5,000 shares\nJane Austin: 20,000 shares',
        futureMilestoneLogic: 'If 100x ROI achieved, co-op may mint 90 million new shares.',

        // Officers
        secretaryName: 'User 1 (Secretary)',
        treasurerName: 'User 2 (Treasurer)',
        directorName: 'User 3 (Director)',
        
        // disclaimers
        disclaimers: `DISCLAIMER - SECURITIES & INTRASTATE OFFERING (RULE 147A):
• There is NO formal "Form 147A" to file with the SEC. The exemption is self-executing if all criteria are met.
• Sales must be limited to in-state residents. The co-op must have its principal place of business in [STATE].
• At least 80% of revenues, assets, and use-of-proceeds must be in-state, among other conditions.
• Transfer restrictions: buyers cannot sell out-of-state for at least 6 months.
• The co-op may need to notify or file an exemption form with [STATE] regulators (C.R.S. §§ 11-51-101 et seq.).
• No Guarantee of Return: All forward-looking statements are aspirational only.
• Consult an attorney to confirm compliance with Rule 147A or any other exemption.`
      });

      const handleChange = (e) => {
        const { name, value } = e.target;
        setFormData(prev => ({ ...prev, [name]: value }));
      };

      // Generate Articles of Incorporation
      const articlesTemplate = `
ARTICLES OF INCORPORATION
(for a ${formData.coopEntityType} in ${formData.stateOfFormation})

1. NAME & FORMATION
   The name of the cooperative is "${formData.cooperativeName}" (the "Cooperative").
   It is organized under the laws of ${formData.stateOfFormation} as a ${formData.coopEntityType}.

2. PURPOSE
   The purpose of the Cooperative is to engage in any lawful activity
   consistent with a public-benefit cooperative, including:
   • ${formData.missionStatement}

3. PRINCIPAL OFFICE & REGISTERED AGENT
   • Principal office in ${formData.stateOfFormation}.
   • Registered Agent: ${formData.registeredAgent}.

4. DIRECTORS
   The number of Directors shall initially be ${formData.boardSize}, or as set forth
   in the Bylaws. Initial Directors may include:
   ${formData.boardDirectorNames}

5. BENEFIT MISSION
   As a Public Benefit Corporation (or LCA), the Cooperative commits to
   advancing social and community well-being, as outlined in its Bylaws.

6. AMENDMENTS
   Amendments to these Articles require approval per the Bylaws.

7. EFFECTIVE DATE
   These Articles become effective upon filing with the Secretary of State.

${formData.disclaimers}
`;

      // Generate Bylaws
      const bylawsTemplate = `
BYLAWS OF ${formData.cooperativeName}

1. NAME & PURPOSE
   1.1 Name: ${formData.cooperativeName}
   1.2 Purpose: To operate as a multi-stakeholder public-benefit cooperative
       focusing on ${formData.missionStatement}.

2. MEMBERSHIP & FEES
   2.1 Classes:
       • General Members
       • ${formData.patronClassName}
       • Steward Members
   2.2 Membership Fee: ${formData.membershipFee} (adjustable by Board).
   2.3 Acceptance & Transfer: Subject to Board approval.
       Membership is non-transferable except as stated in these Bylaws.

3. BOARD OF DIRECTORS
   3.1 Size: The Board consists of ${formData.boardSize} directors (or as
       established by the Co-op).
   3.2 Officers: Must include Secretary (${formData.secretaryName}) and Treasurer (${formData.treasurerName}).
   3.3 Meetings: Annual & special. Notice given to all directors.
   3.4 Quorum: ${formData.quorumRequirement} of directors or members, with
       major decisions requiring ${formData.voteThreshold}.

4. FISCAL & SURPLUS
   4.1 Fiscal Year End: ${formData.fiscalYearEnd}.
   4.2 Net Surplus Allocation:
       - Patron Members: per their product/service usage
       - Stewards: as further explained in Article 6
       - Reserves: Board may allocate to co-op’s capital or expansions

5. PATRON MEMBERS
   5.1 Fee: ${formData.patronFee}
   5.2 Distribution Terms: ${formData.patronDistributionTerms}
   5.3 In-App Tracking/Payout: ${formData.inAppPayoutDetails}

6. STEWARD MEMBERS
   6.1 Total Shares: ${formData.totalStewardShares} @ ${formData.stewardSharePrice} each
   6.2 Max Ownership: ${formData.maxOwnership}
   6.3 Steward Distribution: ${formData.stewardDistribution}
   6.4 Future Milestones: ${formData.futureMilestoneLogic}
   6.5 Initial Allocations:
       ${formData.stewardAllocationsInitial}

7. TERMINATION & EXPULSION
   7.1 Voluntary: Member may resign by written notice.
   7.2 Expulsion: Board can expel for lawful cause after notice/opportunity to respond.

8. DISSOLUTION
   After debts & returning member equity, surplus is distributed according to
   membership class or patronage share, per these Bylaws.

9. AMENDMENTS
   Board or membership (if required) can amend these Bylaws following the procedures
   set herein.

10. DISCLAIMERS & EXEMPTIONS
${formData.disclaimers}
`;

      // Generate Patron Membership Agreement
      const patronAgreementTemplate = `
${formData.cooperativeName}
PATRON MEMBERSHIP AGREEMENT

1. PARTIES
   The Cooperative: ${formData.cooperativeName}
   The Member: [PATRON_NAME]

2. CLASS & FEE
   The Member joins as a "${formData.patronClassName}" upon paying ${formData.patronFee}
   and signing this Agreement.

3. RIGHTS & OBLIGATIONS
   • One vote if granted by Bylaws for Patron Class.
   • Access to co-op platform to ${formData.productScope}.
   • Must abide by Bylaws & policies, maintain good standing.

4. PATRONAGE REFUND
   • Surplus from Patron transactions is distributed: ${formData.patronDistributionTerms}
   • Actual surplus depends on co-op’s net results. No guaranteed return.

5. IN-APP TRACKING & PAYOUT
   ${formData.inAppPayoutDetails}

6. TERMINATION
   • Member may withdraw at any time with notice.
   • Board may expel for reasons in the Bylaws.

7. DISCLAIMER
${formData.disclaimers}

Signatures:
- [PATRON_NAME], Patron Member
- [COOP_REP], ${formData.cooperativeName}
Date: __________
`;

      // Generate Steward Membership Agreement
      const stewardAgreementTemplate = `
${formData.cooperativeName}
STEWARD MEMBERSHIP AGREEMENT

1. PARTIES
   The Cooperative: ${formData.cooperativeName}
   The Steward: [STEWARD_NAME]

2. STEWARD SHARES
   • Total authorized: ${formData.totalStewardShares} @ ${formData.stewardSharePrice} each.
   • Max ownership: ${formData.maxOwnership}
   • Initial allocations (example): 
       ${formData.stewardAllocationsInitial}

3. DISTRIBUTIONS
   • ${formData.stewardDistribution}
   • Future expansions/milestones: ${formData.futureMilestoneLogic}
   • No guaranteed ROI. Surpluses allocated only if co-op is profitable.

4. RESTRICTIONS
   • Shares are non-transferable except as allowed by Bylaws.
   • The co-op may repurchase or redeem shares per Board policy/BYLAWS.

5. TERMINATION
   • Steward may withdraw with notice. 
   • If membership ends, shares may be redeemed at par or book value (as set by Bylaws).

6. DISCLAIMERS & EXEMPTIONS
${formData.disclaimers}

Signatures:
- [STEWARD_NAME], Steward Member
- [COOP_REP], ${formData.cooperativeName}
Date: __________
`;

      return (
        <div style={{ display: 'flex', width: '100%' }}>
          {/* Sidebar Form */}
          <div className="sidebar">
            <h1>Co-op Docs w/ 147A Disclaimers</h1>

            <label>Cooperative Name:</label>
            <input name="cooperativeName" value={formData.cooperativeName} onChange={handleChange} />

            <label>Entity Type (PBC, LCA, etc.):</label>
            <input name="coopEntityType" value={formData.coopEntityType} onChange={handleChange} />

            <label>State of Formation:</label>
            <input name="stateOfFormation" value={formData.stateOfFormation} onChange={handleChange} />

            <label>Mission Statement:</label>
            <textarea name="missionStatement" rows="2" value={formData.missionStatement} onChange={handleChange} />

            <label>Registered Agent:</label>
            <input name="registeredAgent" value={formData.registeredAgent} onChange={handleChange} />

            <label>Initial Board Size:</label>
            <input name="boardSize" value={formData.boardSize} onChange={handleChange} type="number" />

            <label>Board Director Names (line separated):</label>
            <textarea name="boardDirectorNames" rows="2" value={formData.boardDirectorNames} onChange={handleChange} />

            <hr />

            <label>Membership Fee (Bylaws):</label>
            <input name="membershipFee" value={formData.membershipFee} onChange={handleChange} />

            <label>Quorum Requirement:</label>
            <input name="quorumRequirement" value={formData.quorumRequirement} onChange={handleChange} />

            <label>Vote Threshold (Major Decisions):</label>
            <input name="voteThreshold" value={formData.voteThreshold} onChange={handleChange} />

            <label>Fiscal Year End:</label>
            <input name="fiscalYearEnd" value={formData.fiscalYearEnd} onChange={handleChange} />

            <hr />

            <h3>Patron Class Fields</h3>
            <label>Patron Class Name:</label>
            <input name="patronClassName" value={formData.patronClassName} onChange={handleChange} />

            <label>Patron Fee:</label>
            <input name="patronFee" value={formData.patronFee} onChange={handleChange} />

            <label>Patron Distribution Terms:</label>
            <textarea name="patronDistributionTerms" rows="2" value={formData.patronDistributionTerms} onChange={handleChange} />

            <label>Product/Service Scope:</label>
            <textarea name="productScope" rows="2" value={formData.productScope} onChange={handleChange} />

            <label>In-App Payout Details:</label>
            <textarea name="inAppPayoutDetails" rows="2" value={formData.inAppPayoutDetails} onChange={handleChange} />

            <hr />

            <h3>Steward Class Fields</h3>
            <label>Total Steward Shares:</label>
            <input name="totalStewardShares" value={formData.totalStewardShares} onChange={handleChange} />

            <label>Steward Share Price:</label>
            <input name="stewardSharePrice" value={formData.stewardSharePrice} onChange={handleChange} />

            <label>Max Ownership %:</label>
            <input name="maxOwnership" value={formData.maxOwnership} onChange={handleChange} />

            <label>Steward Distribution Terms:</label>
            <textarea name="stewardDistribution" rows="2" value={formData.stewardDistribution} onChange={handleChange} />

            <label>Initial Steward Allocations:</label>
            <textarea name="stewardAllocationsInitial" rows="3" value={formData.stewardAllocationsInitial} onChange={handleChange} />

            <label>Future Milestone Logic:</label>
            <textarea name="futureMilestoneLogic" rows="2" value={formData.futureMilestoneLogic} onChange={handleChange} />

            <hr />

            <label>Secretary:</label>
            <input name="secretaryName" value={formData.secretaryName} onChange={handleChange} />

            <label>Treasurer:</label>
            <input name="treasurerName" value={formData.treasurerName} onChange={handleChange} />

            <label>Another Director/Officer:</label>
            <input name="directorName" value={formData.directorName} onChange={handleChange} />

            <hr />

            <label>Disclaimers (includes 147A info):</label>
            <textarea name="disclaimers" rows="8" value={formData.disclaimers} onChange={handleChange} />
          </div>

          {/* Main Content / Output */}
          <div className="main">
            <h1>Live Preview of Documents</h1>

            <h2>Articles of Incorporation</h2>
            <div className="template-output">
              {articlesTemplate}
            </div>

            <h2>Bylaws</h2>
            <div className="template-output">
              {bylawsTemplate}
            </div>

            <h2>Patron Membership Agreement</h2>
            <div className="template-output">
              {patronAgreementTemplate}
            </div>

            <h2>Steward Membership Agreement</h2>
            <div className="template-output">
              {stewardAgreementTemplate}
            </div>
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>

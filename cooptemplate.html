<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Tabbed Co-op Docs Generator</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Inter Font -->
 <link href="https://fonts.googleapis.com/css2?family=Pontano+Sans:wght@300..700&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Inter', sans-serif;
      display: flex;
      min-height: 100vh;
    }
    .sidebar {
      width: 360px;
      border-right: 1px solid #ccc;
      padding: 20px;
      background: #fefefe;
      overflow-y: auto;
    }
    .main {
      flex: 1;
      display: flex;
      flex-direction: column;
      background: #ffffff;
    }
    label {
      font-weight: 600;
      display: block;
      margin-top: 15px;
      margin-bottom: 5px;
    }
    input, select, textarea {
      width: 100%;
      padding: 8px;
      margin-bottom: 8px;
      box-sizing: border-box;
    }
    .tabs {
      display: flex;
      border-bottom: 1px solid #ccc;
      background: #fafafa;
    }
    .tab {
      padding: 12px 16px;
      cursor: pointer;
      border-right: 1px solid #ccc;
      font-weight: 500;
      transition: background 0.2s;
    }
    .tab.active {
      background: #fff;
      border-bottom: 2px solid #333;
    }
    .tab:hover {
      background: #f0f0f0;
    }
    .tab-content {
      flex: 1;
      padding: 20px;
      overflow-y: auto;
    }
    .template-output {
      white-space: pre-wrap; 
      background: #f9f9f9; 
      padding: 10px; 
      border-radius: 6px; 
      font-family: monospace;
      font-size: 0.9rem;
      line-height: 1.5;
      margin-top: 12px;
    }
    h2 {
      margin-top: 0;
      margin-bottom: 16px;
      font-size: 1.25rem;
      border-bottom: 1px solid #ddd;
      padding-bottom: 8px;
    }
    h1 {
      margin-bottom: 1rem;
    }
    .warning {
      color: #b00020;
      font-size: 0.9rem;
      margin: 4px 0 0 0;
      font-weight: 600;
    }
  </style>
</head>
<body>
  <!-- React & Babel -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.9/babel.min.js"></script>

  <div id="root"></div>

  <script type="text/babel">
    function App() {
      // We'll store all user inputs in a state object
      const [formData, setFormData] = React.useState({
        // Basic / Articles info
        cooperativeName: 'ONE Local Co-op',
        coopEntityType: 'Public Benefit Corporation',
        stateOfFormation: 'Colorado',
        missionStatement: 'Local community empowerment and equitable resource sharing.',
        registeredAgent: '',
        boardSize: '5',
        boardDirectorNames: 'Director One\nDirector Two',
        
        // Bylaws details
        membershipFee: '$22 per month',
        quorumRequirement: '50%',
        voteThreshold: '75%',
        fiscalYearEnd: 'December 31',

        // Patron Class fields
        patronClassName: 'Patron Member',
        patronFee: '$22/month',
        productScope: 'Offer products or services via co-op platform.',
        inAppPayoutDetails: 'Stripe Connect (intrastate only), multi-sig for large withdrawals.',
        
        // Distribution fields
        patronDistPercent: '25',  // default 25% to Patrons
        generalMemberDistPercent: '0', // in case you want to allocate some % to General
        stewardDistPercent: '25',  // default 25% to Stewards
        // total membership distribution => sum of above must be at least 50

        // Extended text
        patronDistributionTerms: 'Allocated proportionally based on fees each Patron generated.',
        totalStewardShares: '10000000',
        stewardSharePrice: '$1',
        maxOwnership: '5%',
        stewardDistribution: 'Pro-rata among Stewards by shares held.',
        stewardAllocationsInitial: 'John Doe: 5,000 shares\nJane Austin: 20,000 shares',
        futureMilestoneLogic: 'If 100x ROI is hit, co-op may mint an additional 90 million shares.',

        // Officers
        secretaryName: 'User 1 (Secretary)',
        treasurerName: 'User 2 (Treasurer)',
        directorName: 'User 3 (Director)',
        
        // disclaimers
        disclaimers: `DISCLAIMER - SECURITIES & INTRASTATE OFFERING (RULE 147A):
• No formal "Form 147A" is filed with the SEC. The exemption is self-executing if all conditions are met.
• Sales must be limited to in-state residents; at least 80% of business in-state.
• Transfer restrictions apply (6 months for out-of-state resale).
• Also consider Colorado state exemptions (C.R.S. §§ 11-51-101 et seq.).
• Co-op membership carries no guaranteed return. Surplus depends on actual net profit.
• Please consult an attorney to confirm compliance with relevant securities laws.`
      });

      const [activeTab, setActiveTab] = React.useState('articles'); // default tab

      // Handle input changes
      const handleChange = (e) => {
        const { name, value } = e.target;
        setFormData(prev => ({ ...prev, [name]: value }));
      };

      // Convert distribution inputs to numbers
      const patronDistNum = parseFloat(formData.patronDistPercent) || 0;
      const generalMemberDistNum = parseFloat(formData.generalMemberDistPercent) || 0;
      const stewardDistNum = parseFloat(formData.stewardDistPercent) || 0;

      // Validate that total membership distribution is >= 50
      const membershipTotal = patronDistNum + generalMemberDistNum + stewardDistNum;
      const distributionWarning = membershipTotal < 50
        ? `Warning: Current membership distribution total is ${membershipTotal}%. It must be at least 50%.`
        : '';

      // 1. ARTICLES
      const articlesTemplate = `
ARTICLES OF INCORPORATION
(for a ${formData.coopEntityType} in ${formData.stateOfFormation})

1. NAME & FORMATION
   The name of the cooperative is "${formData.cooperativeName}" (the "Cooperative").
   It is organized under the laws of ${formData.stateOfFormation} as a ${formData.coopEntityType}.

2. PURPOSE
   The purpose of the Cooperative is to engage in any lawful activity
   consistent with a public-benefit cooperative, including:
   • ${formData.missionStatement}

3. PRINCIPAL OFFICE & REGISTERED AGENT
   • Principal office in ${formData.stateOfFormation}.
   • Registered Agent: ${formData.registeredAgent}.

4. DIRECTORS
   The number of Directors shall initially be ${formData.boardSize}, or as set forth
   in the Bylaws. Initial Directors may include:
   ${formData.boardDirectorNames}

5. BENEFIT MISSION
   As a Public Benefit Corporation (or LCA), the Cooperative commits to
   advancing social and community well-being, as outlined in its Bylaws.

6. AMENDMENTS
   Amendments to these Articles require approval per the Bylaws.

7. EFFECTIVE DATE
   These Articles become effective upon filing with the Secretary of State.

${formData.disclaimers}
`;

      // 2. BYLAWS
      const bylawsTemplate = `
BYLAWS OF ${formData.cooperativeName}

1. NAME & PURPOSE
   1.1 Name: ${formData.cooperativeName}
   1.2 Purpose: To operate as a multi-stakeholder public-benefit cooperative
       focusing on ${formData.missionStatement}.

2. MEMBERSHIP & FEES
   2.1 Classes:
       • General Members
       • ${formData.patronClassName}
       • Steward Members
   2.2 Membership Fee: ${formData.membershipFee} (adjustable by Board).
   2.3 Acceptance & Transfer: Subject to Board approval.
       Membership is non-transferable except as stated in these Bylaws.

3. BOARD OF DIRECTORS
   3.1 Size: The Board consists of ${formData.boardSize} directors (or as
       established by the Co-op).
   3.2 Officers: Must include Secretary (${formData.secretaryName}) and Treasurer (${formData.treasurerName}).
   3.3 Meetings: Annual & special. Notice given to all directors.
   3.4 Quorum: ${formData.quorumRequirement} of directors or members, with
       major decisions requiring ${formData.voteThreshold}.

4. FISCAL & SURPLUS
   4.1 Fiscal Year End: ${formData.fiscalYearEnd}.
   4.2 Net Surplus:
       After paying all operating expenses, reserving capital,
       and fulfilling any other obligations, the Board shall determine the net surplus.
   4.3 Distribution Policy:
       (a) **Patron Members**: ${formData.patronDistPercent}% of net surplus allocated among Patron Members
           based on the fees or revenue each Patron's activity generated.
       (b) **General Members**: ${formData.generalMemberDistPercent}% of net surplus, if any, as determined by
           the Board in a manner consistent with their usage or membership role.
       (c) **Steward Members**: ${formData.stewardDistPercent}% of net surplus allocated among Stewards
           pro rata by shares held.
       (d) **Total to Membership**: Patron + General + Steward distributions shall never be less than 50% in aggregate.
       (e) **Remaining Surplus**:
           The Board may allocate any remainder to reserves, expansions,
           or other Co-op initiatives.
   4.4 No Guarantee of Distribution:
       The actual amount of net surplus (if any) depends on the Cooperative's performance.

5. PATRON MEMBERS
   5.1 Fee: ${formData.patronFee}
   5.2 Scope of Activity: ${formData.productScope}
   5.3 In-App Tracking/Payout: ${formData.inAppPayoutDetails}

6. STEWARD MEMBERS
   6.1 Total Shares: ${formData.totalStewardShares} @ ${formData.stewardSharePrice} each
   6.2 Max Ownership: ${formData.maxOwnership}
   6.3 Distribution: ${formData.stewardDistribution}
   6.4 Future Milestones: ${formData.futureMilestoneLogic}
   6.5 Initial Allocations:
       ${formData.stewardAllocationsInitial}

7. TERMINATION & EXPULSION
   7.1 Voluntary: A Member may resign by written notice.
   7.2 Expulsion: The Board may expel for lawful reasons after notice/opportunity to respond.

8. DISSOLUTION
   After debts & returning member equity, any leftover assets are distributed among
   membership classes or patrons in line with these Bylaws.

9. AMENDMENTS
   The Board or membership (if required) can amend these Bylaws following the procedures
   set herein.

10. DISCLAIMERS & EXEMPTIONS
${formData.disclaimers}
`;

      // 3. Patron Membership Agreement
      const patronAgreementTemplate = `
${formData.cooperativeName}
PATRON MEMBERSHIP AGREEMENT

1. PARTIES
   The Cooperative: ${formData.cooperativeName}
   The Member: [PATRON_NAME]

2. CLASS & FEE
   The Member joins as a "${formData.patronClassName}" upon paying ${formData.patronFee}
   and signing this Agreement.

3. RIGHTS & OBLIGATIONS
   • May have voting rights if granted by Bylaws for Patron Class.
   • May sell products or services via the Co-op: ${formData.productScope}
   • Must abide by Bylaws & policies, maintain good standing.

4. PATRONAGE SURPLUS ALLOCATION
   • Per the Bylaws, ${formData.patronDistPercent}% of net surplus is allocated to Patron Members.
   • ${formData.patronDistributionTerms}
   • No guaranteed return; actual surplus depends on the Co-op’s net income after expenses.

5. IN-APP TRACKING & PAYOUT
   ${formData.inAppPayoutDetails}

6. TERMINATION
   • Member may withdraw with written notice to the Secretary.
   • The Board may expel for reasons under the Bylaws (e.g., non-payment, misconduct).

7. DISCLAIMER
${formData.disclaimers}

Signatures:
- [PATRON_NAME], Patron Member
- [COOP_REP], ${formData.cooperativeName}
Date: __________
`;

      // 4. Steward Membership Agreement
      const stewardAgreementTemplate = `
${formData.cooperativeName}
STEWARD MEMBERSHIP AGREEMENT

1. PARTIES
   The Cooperative: ${formData.cooperativeName}
   The Steward: [STEWARD_NAME]

2. STEWARD SHARES
   • Total authorized: ${formData.totalStewardShares} @ ${formData.stewardSharePrice} each.
   • Max ownership: ${formData.maxOwnership}.
   • Initial allocations (example):
       ${formData.stewardAllocationsInitial}

3. DISTRIBUTION OF SURPLUS
   • Per the Bylaws, ${formData.stewardDistPercent}% of net surplus is allocated among Stewards
     pro rata by shares held.
   • ${formData.stewardDistribution}
   • No guaranteed ROI. Surplus is contingent on actual net profit.

4. FUTURE MILESTONES
   • ${formData.futureMilestoneLogic}

5. TRANSFER & REDEMPTION
   • Steward Shares are non-transferable except as allowed by the Bylaws.
   • The Co-op may repurchase or redeem shares at par/book value if a Steward withdraws
     or is expelled, per Board policy.

6. TERMINATION
   • Steward may resign by written notice. 
   • Board may expel Stewards for lawful reason, with due process under Bylaws.

7. DISCLAIMERS & SEC EXEMPTIONS
${formData.disclaimers}

Signatures:
- [STEWARD_NAME], Steward Member
- [COOP_REP], ${formData.cooperativeName}
Date: __________
`;

      // Tab content
      function TabContent({ label, template }) {
        return (
          <div className="tab-content">
            <h2>{label}</h2>
            <div className="template-output">{template}</div>
          </div>
        );
      }

      const TABS = [
        { key: 'articles', label: 'Articles of Incorporation', content: articlesTemplate },
        { key: 'bylaws', label: 'Bylaws', content: bylawsTemplate },
        { key: 'patron', label: 'Patron Agreement', content: patronAgreementTemplate },
        { key: 'steward', label: 'Steward Agreement', content: stewardAgreementTemplate },
      ];

      return (
        <div style={{ display: 'flex', width: '100%' }}>
          {/* Sidebar Form */}
          <div className="sidebar">
            <h1>Tabbed Co-op Docs</h1>

            {/* Distribution Warning if membership < 50% */}
            { distributionWarning && 
              <div className="warning">{distributionWarning}</div>
            }

            <label>Cooperative Name:</label>
            <input name="cooperativeName" value={formData.cooperativeName} onChange={handleChange} />

            <label>Entity Type (PBC, LCA, etc.):</label>
            <input name="coopEntityType" value={formData.coopEntityType} onChange={handleChange} />

            <label>State of Formation:</label>
            <input name="stateOfFormation" value={formData.stateOfFormation} onChange={handleChange} />

            <label>Mission Statement:</label>
            <textarea name="missionStatement" rows="2" value={formData.missionStatement} onChange={handleChange} />

            <label>Registered Agent:</label>
            <input name="registeredAgent" value={formData.registeredAgent} onChange={handleChange} />

            <label>Initial Board Size:</label>
            <input name="boardSize" value={formData.boardSize} onChange={handleChange} type="number" />

            <label>Board Director Names (line separated):</label>
            <textarea name="boardDirectorNames" rows="2" value={formData.boardDirectorNames} onChange={handleChange} />

            <hr />

            <label>Membership Fee (Bylaws):</label>
            <input name="membershipFee" value={formData.membershipFee} onChange={handleChange} />

            <label>Quorum Requirement:</label>
            <input name="quorumRequirement" value={formData.quorumRequirement} onChange={handleChange} />

            <label>Vote Threshold (Major Decisions):</label>
            <input name="voteThreshold" value={formData.voteThreshold} onChange={handleChange} />

            <label>Fiscal Year End:</label>
            <input name="fiscalYearEnd" value={formData.fiscalYearEnd} onChange={handleChange} />

            <hr />
            <h3>Membership Distribution Percentages</h3>
            <label>Patron Distribution %</label>
            <input name="patronDistPercent" value={formData.patronDistPercent} onChange={handleChange} type="number" />
            <label>General Member Distribution %</label>
            <input name="generalMemberDistPercent" value={formData.generalMemberDistPercent} onChange={handleChange} type="number" />
            <label>Steward Distribution %</label>
            <input name="stewardDistPercent" value={formData.stewardDistPercent} onChange={handleChange} type="number" />

            <hr />

            <h3>Patron Class Fields</h3>
            <label>Patron Class Name:</label>
            <input name="patronClassName" value={formData.patronClassName} onChange={handleChange} />

            <label>Patron Fee:</label>
            <input name="patronFee" value={formData.patronFee} onChange={handleChange} />

            <label>Product/Service Scope:</label>
            <textarea name="productScope" rows="2" value={formData.productScope} onChange={handleChange} />

            <label>In-App Payout Details:</label>
            <textarea name="inAppPayoutDetails" rows="2" value={formData.inAppPayoutDetails} onChange={handleChange} />

            <label>Patron Distribution Terms (Text):</label>
            <textarea name="patronDistributionTerms" rows="2" value={formData.patronDistributionTerms} onChange={handleChange} />

            <hr />

            <h3>Steward Class Fields</h3>
            <label>Total Steward Shares:</label>
            <input name="totalStewardShares" value={formData.totalStewardShares} onChange={handleChange} />

            <label>Steward Share Price:</label>
            <input name="stewardSharePrice" value={formData.stewardSharePrice} onChange={handleChange} />

            <label>Max Ownership %:</label>
            <input name="maxOwnership" value={formData.maxOwnership} onChange={handleChange} />

            <label>Steward Distribution Explanation:</label>
            <textarea name="stewardDistribution" rows="2" value={formData.stewardDistribution} onChange={handleChange} />

            <label>Initial Steward Allocations:</label>
            <textarea name="stewardAllocationsInitial" rows="3" value={formData.stewardAllocationsInitial} onChange={handleChange} />

            <label>Future Milestone Logic:</label>
            <textarea name="futureMilestoneLogic" rows="2" value={formData.futureMilestoneLogic} onChange={handleChange} />

            <hr />

            <label>Secretary:</label>
            <input name="secretaryName" value={formData.secretaryName} onChange={handleChange} />

            <label>Treasurer:</label>
            <input name="treasurerName" value={formData.treasurerName} onChange={handleChange} />

            <label>Another Director/Officer:</label>
            <input name="directorName" value={formData.directorName} onChange={handleChange} />

            <hr />

            <label>Disclaimers (includes 147A info):</label>
            <textarea name="disclaimers" rows="8" value={formData.disclaimers} onChange={handleChange} />
          </div>

          {/* Main Content / Output with tabs */}
          <div className="main">
            <div className="tabs">
              {TABS.map(t => (
                <div
                  key={t.key}
                  className={`tab ${activeTab === t.key ? 'active' : ''}`}
                  onClick={() => setActiveTab(t.key)}
                >
                  {t.label}
                </div>
              ))}
            </div>
            
            {TABS.filter(t => t.key === activeTab).map(t => (
              <TabContent key={t.key} label={t.label} template={t.content} />
            ))}
          </div>
        </div>
      );
    }

    function TabContent({ label, template }) {
      return (
        <div className="tab-content">
          <h2>{label}</h2>
          <div className="template-output">
            {template}
          </div>
        </div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>

import React, { useState, useEffect } from 'react';

// Correctly destructure from window.MaterialUI
const {
  ThemeProvider,
  createTheme,
  CssBaseline,
  AppBar,
  Toolbar,
  Typography,
  Button,
  IconButton,
  Container,
  Box,
  Grid,
  Card,
  CardContent,
  CardActions,
  Icon,
  Menu,
  MenuItem,
  Link,
  Divider,
  Avatar,
  List,
  ListItem,
  ListItemText,
  Accordion,
  AccordionSummary,
  AccordionDetails,
  TextField,
  useMediaQuery,
  Modal,
  Fade,
  Backdrop,
} = window.MaterialUI;

// Organization data and other data objects remain the same
const organization = {
  id: 'org1',
  name: 'ONE Local',
  tagline: 'Empower Your Community, Enrich Your Life.',
  mission: 'Together, we build the future â€” one connection, one offering, one moment at a time.',
  description:
    'At ONE Local, we believe in fostering connections and building a better future through community empowerment. Join us to create a local ecosystem of resources, skills, and relationships.',
  contact: {
    email: 'support@onelocal.com',
    phone: '+1 (234) 567-890',
    address: '123 Community Lane, Townsville, USA',
  },
  logo: 'https://via.placeholder.com/150x100?text=ONE+Local',
  affiliatedOrganizations: [],
};

// Theme configuration
const theme = createTheme({
  // Theme configuration remains the same
});

function App() {
  const [currentPage, setCurrentPage] = useState('home');
  const isMobile = useMediaQuery(theme.breakpoints.down('md'));

  // Fix the useEffect hook syntax in TeamSection
  const TeamSection = () => {
    const [data, setData] = useState([]);
    
    useEffect(() => {
      const fetchData = async () => {
        try {
          // Fetch implementation
        } catch (error) {
          console.error('Error:', error);
        }
      };
      
      fetchData();
    }, []); // Empty dependency array

    return (
      // TeamSection JSX
    );
  };

  const renderPage = () => {
    switch (currentPage) {
      case 'home':
        return <LandingPage setCurrentPage={setCurrentPage} />;
      // Other cases remain the same
      default:
        return <LandingPage setCurrentPage={setCurrentPage} />;
    }
  };

  return (
    <ThemeProvider theme={theme}>
      <CssBaseline />
      <Box className="animatedBackground">
        <NavigationBar setCurrentPage={setCurrentPage} isMobile={isMobile} />
        <Toolbar />
        {renderPage()}
        <Footer setCurrentPage={setCurrentPage} />
      </Box>
    </ThemeProvider>
  );
}

// Complete the Footer component that was cut off
function Footer({ setCurrentPage }) {
  return (
    <Box component="footer" sx={{ backgroundColor: '#f5f5f5', py: 6 }}>
      <Container maxWidth="lg">
        <Grid container spacing={6}>
          {/* Footer content */}
          <Grid item xs={12} md={4}>
            <Typography variant="h6" sx={{ mb: 4 }}>
              Newsletter Signup
            </Typography>
            <TextField
              label="Email"
              variant="outlined"
              fullWidth
              margin="normal"
              sx={{
                '& .MuiOutlinedInput-root': {
                  backgroundColor: '#ffffff',
                }
              }}
            />
            <Button variant="contained" color="primary" fullWidth>
              Subscribe
            </Button>
          </Grid>
        </Grid>
      </Container>
    </Box>
  );
}

// Mount the app
const root = ReactDOM.createRoot(document.getElementById('root'));
root.render(<App />);

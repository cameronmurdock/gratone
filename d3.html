<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ONE Local - Empower Your Community</title>
  <!-- Responsive Meta Tag -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Meta Descriptions for SEO -->
  <meta name="description" content="ONE Local - Connect with your community, share resources, and empower local growth">
  <!-- Google Fonts and Material Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700|Playfair+Display&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <!-- Favicon -->
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <style>
    /* Global Styles */
    body, html {
      margin: 0;
      padding: 0;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      color: #333333;
      height: 100vh;
      overflow: hidden;
    }
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    /* Scrollbar Styling */
    body {
      scrollbar-color: #a8d5ba #ffffff;
      scrollbar-width: thin;
    }
    body::-webkit-scrollbar {
      width: 8px;
    }
    body::-webkit-scrollbar-track {
      background: #ffffff;
    }
    body::-webkit-scrollbar-thumb {
      background-color: #a8d5ba;
      border-radius: 4px;
    }
    /* Modal Overlay Styling */
    .modalOverlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 1300;
    }
    /* Modal Content Styling */
    .modalContent {
      background-color: #ffffff;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      padding: 20px;
      max-width: 600px;
      width: 90%;
      position: relative;
      max-height: 90vh;
      overflow-y: auto;
    }
    .modalCloseButton {
      position: absolute;
      top: 10px;
      right: 10px;
      cursor: pointer;
      background: none;
      border: none;
    }
    /* Responsive Layout */
    @media (max-width: 960px) {
      .sidebar {
        display: none;
      }
      .right-pane {
        order: 3;
      }
    }
    @media (min-width: 960px) {
      .mobileMenu {
        display: none;
      }
    }
    /* Sticky Header */
    .stickyHeader {
      position: sticky;
      top: 0;
      z-index: 1200;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- React and ReactDOM -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <!-- Babel for JSX transformation -->
  <script src="https://unpkg.com/@babel/standalone@7/babel.min.js"></script>
  <!-- Material UI v5 -->
  <script src="https://unpkg.com/@mui/material@5.11.0/umd/material-ui.development.js" crossorigin></script>
  <!-- Material UI Icons -->
  <script src="https://unpkg.com/@mui/icons-material@5.11.0/umd/material-ui-icons.development.js" crossorigin></script>

  <script type="text/babel">
    const {
      ThemeProvider,
      createTheme,
      CssBaseline,
      AppBar,
      Toolbar,
      Typography,
      Button,
      IconButton,
      Container,
      Box,
      Grid,
      Card,
      CardContent,
      CardActions,
      Icon,
      Menu,
      MenuItem,
      Link,
      Divider,
      Avatar,
      List,
      ListItem,
      ListItemText,
      Accordion,
      AccordionSummary,
      AccordionDetails,
      TextField,
      useMediaQuery,
      Modal,
      Fade,
      Backdrop,
      Tabs,
      Tab,
      InputBase,
      Paper,
      ListItemAvatar,
      ListItemIcon,
      Badge,
      Chip,
      Tooltip,
      Drawer,
      CircularProgress
    } = MaterialUI;

    // Custom Theme
    const theme = createTheme({
      palette: {
        mode: 'light',
        primary: {
          main: '#6d4c41', // Muted Brown
        },
        secondary: {
          main: '#8d6e63', // Muted Coral
        },
        error: {
          main: '#e57373', // Soft Red
        },
        background: {
          default: '#f5f5f5', // Light Gray
          paper: '#ffffff', // White
        },
        text: {
          primary: '#333333', // Dark Gray
          secondary: '#555555', // Medium Gray
        },
      },
      typography: {
        fontFamily: 'Montserrat, sans-serif',
        fontWeightBold: 700,
        h2: {
          fontFamily: 'Playfair Display, serif',
          fontWeight: 700,
          fontSize: '3rem',
        },
        h4: {
          fontFamily: 'Playfair Display, serif',
          fontWeight: 700,
          fontSize: '2.5rem',
        },
        h5: {
          fontSize: '2rem',
        },
        body1: {
          fontSize: '1.2rem',
        },
        body2: {
          fontSize: '1rem',
        },
      },
      shape: {
        borderRadius: 10,
      },
      components: {
        MuiButton: {
          styleOverrides: {
            root: {
              borderRadius: '20px',
              textTransform: 'none',
              fontWeight: 'bold',
              transition: '0.3s',
            },
            containedPrimary: {
              backgroundColor: '#6d4c41',
              '&:hover': {
                backgroundColor: '#BF820A',
              },
            },
            containedSecondary: {
              backgroundColor: '#8d6e63',
              '&:hover': {
                backgroundColor: '#7a5e55',
              },
            },
            outlinedPrimary: {
              borderColor: '#6d4c41',
              color: '#6d4c41',
              '&:hover': {
                backgroundColor: 'rgba(109, 76, 65, 0.1)',
              },
            },
          },
        },
        MuiAppBar: {
          styleOverrides: {
            root: {
              background: 'rgba(255, 255, 255, 0.95)',
              boxShadow: '0 2px 4px rgba(0, 0, 0, 0.1)',
            },
          },
        },
        MuiCard: {
          styleOverrides: {
            root: {
              borderRadius: '10px',
              boxShadow: '0 4px 12px rgba(0, 0, 0, 0.1)',
              transition: 'transform 0.3s',
              '&:hover': {
                transform: 'translateY(-5px)',
              },
            },
          },
        },
        MuiAccordion: {
          styleOverrides: {
            root: {
              boxShadow: 'none',
              '&::before': {
                display: 'none',
              },
            },
          },
        },
      },
    });

    // Sample Data
    const sampleData = {
      sharing: [
        {
          id: "offer-001",
          type: "Offer",
          title: "Fresh Organic Vegetables",
          description: "I have extra produce from my garden: kale, carrots, and tomatoes. Available for pickup this weekend.",
          image: "https://via.placeholder.com/150",
          offeredBy: "Cameron Murdock",
          location: "Boulder, CO",
          status: "Available",
          category: "Food",
          datePosted: "2024-11-15"
        },
        {
          id: "offer-002",
          type: "Offer",
          title: "Graphic Design Services",
          description: "Offering design services for flyers, posters, and social media content. Specializing in earth-tone aesthetics.",
          image: "https://via.placeholder.com/150",
          offeredBy: "Miekie Smith",
          location: "Santa Cruz, CA",
          status: "Available",
          category: "Skill",
          datePosted: "2024-11-10"
        },
        {
          id: "request-001",
          type: "Request",
          title: "Need Help Moving Furniture",
          description: "Looking for assistance with moving a couch and a few heavy boxes. Pizza and gratitude included!",
          requestedBy: "Tom Baker",
          location: "Riverside, CA",
          status: "Open",
          category: "Help",
          datePosted: "2024-11-12"
        },
        {
          id: "gratitude-001",
          type: "Gratitude",
          title: "Thank You for the Help!",
          description: "Big thanks to Emily Clark for lending a hand at the community garden yesterday. Couldn't have done it without you!",
          from: "Sarah Lee",
          datePosted: "2024-11-14"
        }
      ],
      events: [
        {
          id: "event-001",
          type: "Event",
          title: "Community Cleanup Day",
          description: "Join us for a morning of cleaning up the riverside park. Gloves and bags will be provided.",
          date: "2024-12-01",
          time: "8:00 AM - 12:00 PM",
          location: "Riverside Park, NY",
          hostedBy: "Green Earth Org",
          category: "Volunteer",
          status: "Upcoming"
        },
        {
          id: "event-002",
          type: "Project",
          title: "Urban Farm Build-Out",
          description: "A collaborative project to set up a new urban farm. We need volunteers for planting, irrigation setup, and building raised beds.",
          date: "2024-12-05",
          time: "10:00 AM - 4:00 PM",
          location: "Santa Cruz, CA",
          hostedBy: "Grow Together Group",
          category: "Project",
          status: "Ongoing"
        },
        {
          id: "event-003",
          type: "Event",
          title: "Local Art Showcase",
          description: "An evening showcasing art from local creators. Music, food, and drinks provided. All are welcome!",
          date: "2024-12-10",
          time: "6:00 PM - 9:00 PM",
          location: "Radius Gallery, Boulder, CO",
          hostedBy: "Creative Collective",
          category: "Arts & Culture",
          status: "Upcoming"
        }
      ],
      groups: [
        {
          id: "group-001",
          type: "Group",
          name: "The Stand Community",
          description: "A local group focused on supporting the Riverside community through mutual aid and collaborative projects.",
          membersCount: 150,
          location: "Riverside, CA",
          category: "Mutual Aid",
          createdBy: "Cameron Murdock"
        },
        {
          id: "group-002",
          type: "Org",
          name: "Mystery Works",
          description: "A community of artists and creators dedicated to experimental and immersive art experiences.",
          membersCount: 75,
          location: "Boulder, CO",
          category: "Arts & Culture",
          createdBy: "Miekie Smith"
        },
        {
          id: "group-003",
          type: "Group",
          name: "Boulder Housing Coalition",
          description: "An organization focused on providing affordable housing solutions in Boulder. We welcome new members interested in cooperative living.",
          membersCount: 200,
          location: "Boulder, CO",
          category: "Housing",
          createdBy: "Sarah Lee"
        }
      ],
      people: [
        {
          id: "user-001",
          name: "Cameron Murdock",
          skills: ["Community Building", "Designing", "Public Speaking"],
          points: 500,
          trustScore: 97.5,
          location: "Boulder, CO",
          badges: ["Top Contributor", "Community Leader"]
        },
        {
          id: "user-002",
          name: "Miekie Smith",
          skills: ["Art Making", "Event Planning", "Photography"],
          points: 420,
          trustScore: 94.0,
          location: "Santa Cruz, CA",
          badges: ["Creative Visionary", "Event Organizer"]
        },
        {
          id: "user-003",
          name: "Tom Baker",
          skills: ["Gardening", "Construction", "Logistics"],
          points: 350,
          trustScore: 92.3,
          location: "Riverside, CA",
          badges: ["Green Thumb", "Reliable Helper"]
        },
        {
          id: "user-004",
          name: "Emily Clark",
          skills: ["Cooking", "Teaching", "Yoga"],
          points: 480,
          trustScore: 96.2,
          location: "Boulder, CO",
          badges: ["Wellness Guru", "Master Chef"]
        }
      ]
    };

    // Header Component
    function Header({ searchText, setSearchText }) {
      const [anchorEl, setAnchorEl] = React.useState(null);
      const open = Boolean(anchorEl);

      const handleProfileMenuOpen = (event) => {
        setAnchorEl(event.currentTarget);
      };

      const handleMenuClose = () => {
        setAnchorEl(null);
      };

      return (
        <AppBar position="fixed" className="stickyHeader">
          <Toolbar>
            {/* Logo & App Name */}
            <Box display="flex" alignItems="center">
              <Avatar src="https://via.placeholder.com/40" alt="ONE Local Logo" sx={{ mr: 2 }} />
              <Typography variant="h6" noWrap>
                ONE Local
              </Typography>
            </Box>

            {/* Search Bar */}
            <Box sx={{ flexGrow: 1, display: 'flex', justifyContent: 'center' }}>
              <Paper
                component="form"
                sx={{ p: '2px 4px', display: 'flex', alignItems: 'center', width: 400 }}
                onSubmit={(e) => { e.preventDefault(); /* Handle search */ }}
              >
                <InputBase
                  sx={{ ml: 1, flex: 1 }}
                  placeholder="Search Events, Orgs, Groups, Sharing"
                  inputProps={{ 'aria-label': 'search events, orgs, groups, sharing' }}
                  value={searchText}
                  onChange={(e) => setSearchText(e.target.value)}
                />
                <IconButton type="submit" sx={{ p: '10px' }} aria-label="search">
                  <Icon>search</Icon>
                </IconButton>
              </Paper>
            </Box>

            {/* Currency/Points Display */}
            <Box display="flex" alignItems="center" sx={{ mr: 2 }}>
              <Icon>account_balance_wallet</Icon>
              <Typography variant="body1" sx={{ ml: 0.5 }}>
                500
              </Typography>
            </Box>

            {/* Notifications Icon */}
            <IconButton color="inherit" aria-label="notifications">
              <Badge badgeContent={4} color="secondary">
                <Icon>notifications</Icon>
              </Badge>
            </IconButton>

            {/* Profile Icon & Dropdown */}
            <IconButton
              edge="end"
              color="inherit"
              aria-label="account of current user"
              aria-controls={open ? 'profile-menu' : undefined}
              aria-haspopup="true"
              onClick={handleProfileMenuOpen}
            >
              <Avatar src="https://randomuser.me/api/portraits/men/32.jpg" alt="Cameron Murdock" />
            </IconButton>
            <Menu
              id="profile-menu"
              anchorEl={anchorEl}
              open={open}
              onClose={handleMenuClose}
              anchorOrigin={{
                vertical: 'top',
                horizontal: 'right',
              }}
              transformOrigin={{
                vertical: 'top',
                horizontal: 'right',
              }}
            >
              <MenuItem onClick={handleMenuClose}>Settings</MenuItem>
              <MenuItem onClick={handleMenuClose}>Logout</MenuItem>
            </Menu>
          </Toolbar>
        </AppBar>
      );
    }

    // Sidebar Component
    function Sidebar() {
      const skills = ["Designing", "Art Making"];
      const sharingOffers = sampleData.sharing.filter(item => item.type === "Offer");
      const badges = ["Top Contributor", "Community Leader", "Creative Visionary"];

      return (
        <Box className="sidebar" sx={{ width: 300, p: 2, backgroundColor: '#ffffff', height: '100vh', position: 'fixed', top: 64, left: 0, overflowY: 'auto' }}>
          {/* Profile Card */}
          <Card sx={{ p: 2, mb: 2 }}>
            <Box display="flex" flexDirection="column" alignItems="center">
              <Avatar src="https://randomuser.me/api/portraits/men/32.jpg" alt="Cameron Murdock" sx={{ width: 150, height: 150, mb: 2 }} />
              <Typography variant="h6">Cameron Murdock</Typography>
              <Typography variant="body2" color="text.secondary">500 Points</Typography>
              {/* Trust Score */}
              <Box sx={{ mt: 2 }}>
                <Typography variant="body2" color="text.secondary">Trust Score</Typography>
                <Box sx={{ position: 'relative', display: 'inline-flex' }}>
                  <CircularProgress value={97.5} />
                  <Box
                    sx={{
                      top: 0,
                      left: 0,
                      bottom: 0,
                      right: 0,
                      position: 'absolute',
                      display: 'flex',
                      alignItems: 'center',
                      justifyContent: 'center',
                    }}
                  >
                    <Typography variant="caption" component="div" color="text.secondary">
                      {`${Math.round(97.5)}%`}
                    </Typography>
                  </Box>
                </Box>
              </Box>
            </Box>
          </Card>

          {/* Action Buttons */}
          <Box display="flex" flexDirection="column" gap={2} mb={2}>
            <Button variant="contained" color="primary" startIcon={<Icon>gift</Icon>}>
              Give
            </Button>
            <Button variant="contained" color="secondary" startIcon={<Icon>message</Icon>}>
              Message
            </Button>
          </Box>

          {/* Skills Section */}
          <Box mb={2}>
            <Typography variant="h6" sx={{ mb: 1 }}>Skills</Typography>
            <Box display="flex" flexWrap="wrap" gap={1}>
              {skills.map((skill, index) => (
                <Chip key={index} label={skill} color="primary" />
              ))}
            </Box>
          </Box>

          {/* Sharing Section */}
          <Box mb={2}>
            <Typography variant="h6" sx={{ mb: 1 }}>Sharing</Typography>
            {sharingOffers.map(offer => (
              <Card key={offer.id} sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                <Avatar src={offer.image} alt={offer.title} sx={{ mr: 2 }} />
                <Box flexGrow={1}>
                  <Typography variant="body1">{offer.title}</Typography>
                </Box>
                <Button variant="contained" color="primary">
                  Offer
                </Button>
              </Card>
            ))}
          </Box>

          {/* Badges Section */}
          <Box>
            <Typography variant="h6" sx={{ mb: 1 }}>Badges</Typography>
            <Box display="flex" flexWrap="wrap" gap={1}>
              {badges.map((badge, index) => (
                <Avatar key={index} sx={{ bgcolor: '#6d4c41' }} variant="square">
                  {badge.split(' ').map(word => word[0]).join('')}
                </Avatar>
              ))}
            </Box>
          </Box>
        </Box>
      );
    }

    // Circular Progress Component for Trust Score
    function CircularProgress({ value }) {
      return (
        <svg width="100%" height="100%" viewBox="0 0 36 36">
          <path
            stroke="#e0e0e0"
            strokeWidth="3"
            fill="none"
            d="M18 2.0845
               a 15.9155 15.9155 0 0 1 0 31.831
               a 15.9155 15.9155 0 0 1 0 -31.831"
          />
          <path
            stroke="#6d4c41"
            strokeWidth="3"
            strokeLinecap="round"
            fill="none"
            strokeDasharray={`${value}, 100`}
            d="M18 2.0845
               a 15.9155 15.9155 0 0 1 0 31.831
               a 15.9155 15.9155 0 0 1 0 -31.831"
          />
        </svg>
      );
    }

    // Main Content Component
    function MainContent({ activeTab, setActiveTab }) {
      const [searchWithinTab, setSearchWithinTab] = React.useState('');
      const [selectedItem, setSelectedItem] = React.useState(null);

      // Data for each tab
      const { sharing, events, groups, people } = sampleData;

      // Filtered Data based on search
      const getFilteredData = () => {
        switch (activeTab) {
          case 'Sharing':
            return sharing.filter(item =>
              item.title.toLowerCase().includes(searchWithinTab.toLowerCase()) ||
              (item.offeredBy && item.offeredBy.toLowerCase().includes(searchWithinTab.toLowerCase())) ||
              (item.requestedBy && item.requestedBy.toLowerCase().includes(searchWithinTab.toLowerCase())) ||
              (item.from && item.from.toLowerCase().includes(searchWithinTab.toLowerCase()))
            );
          case 'Events':
            return events.filter(event =>
              event.title.toLowerCase().includes(searchWithinTab.toLowerCase()) ||
              event.location.toLowerCase().includes(searchWithinTab.toLowerCase())
            );
          case 'Groups':
            return groups.filter(group =>
              group.name.toLowerCase().includes(searchWithinTab.toLowerCase()) ||
              group.description.toLowerCase().includes(searchWithinTab.toLowerCase())
            );
          case 'People':
            return people.filter(person =>
              person.name.toLowerCase().includes(searchWithinTab.toLowerCase()) ||
              person.skills.some(skill => skill.toLowerCase().includes(searchWithinTab.toLowerCase()))
            );
          default:
            return [];
        }
      };

      const filteredData = getFilteredData();

      const handleItemClick = (item) => {
        setSelectedItem(item);
      };

      const handleCloseModal = () => {
        setSelectedItem(null);
      };

      return (
        <Box sx={{ flexGrow: 1, p: 3, ml: { md: 32 }, mr: { md: 32 }, mt: 8 }}>
          {/* Tab Navigation */}
          <Tabs
            value={activeTab}
            onChange={(e, newValue) => { setActiveTab(newValue); setSearchWithinTab(''); }}
            variant="scrollable"
            scrollButtons="auto"
            sx={{ mb: 2 }}
          >
            {['Sharing', 'Events', 'Groups', 'People'].map((tab) => (
              <Tab key={tab} label={tab} value={tab} />
            ))}
          </Tabs>

          {/* Search Bar within Selected Tab */}
          <Box sx={{ mb: 2 }}>
            <Paper
              component="form"
              sx={{ p: '2px 4px', display: 'flex', alignItems: 'center', width: 300 }}
              onSubmit={(e) => { e.preventDefault(); /* Handle search within tab */ }}
            >
              <InputBase
                sx={{ ml: 1, flex: 1 }}
                placeholder={`Search within ${activeTab}`}
                inputProps={{ 'aria-label': `search within ${activeTab}` }}
                value={searchWithinTab}
                onChange={(e) => setSearchWithinTab(e.target.value)}
              />
              <IconButton type="submit" sx={{ p: '10px' }} aria-label="search">
                <Icon>search</Icon>
              </IconButton>
            </Paper>
          </Box>

          {/* Content Based on Active Tab */}
          <Grid container spacing={2}>
            {activeTab === 'Sharing' && filteredData.map(item => (
              <Grid item xs={12} sm={6} md={4} key={item.id}>
                <Card onClick={() => handleItemClick(item)} sx={{ cursor: 'pointer' }}>
                  <CardContent>
                    <Box sx={{ position: 'relative' }}>
                      {item.image && <img src={item.image} alt={item.title} style={{ width: '100%', borderRadius: '10px' }} />}
                      <IconButton
                        sx={{ position: 'absolute', top: 10, right: 10, backgroundColor: 'rgba(255, 255, 255, 0.7)' }}
                        onClick={(e) => { e.stopPropagation(); /* Handle options */ }}
                      >
                        <Icon>more_vert</Icon>
                      </IconButton>
                    </Box>
                    <Typography variant="h6" sx={{ mt: 2 }}>
                      {item.title}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      {item.description}
                    </Typography>
                    <Typography variant="body2" color="text.secondary" sx={{ mt: 1 }}>
                      {item.type === "Offer" ? `Offered by: ${item.offeredBy}` : item.type === "Request" ? `Requested by: ${item.requestedBy}` : `From: ${item.from}`}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Location: {item.location || "N/A"}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Status: {item.status}
                    </Typography>
                  </CardContent>
                </Card>
              </Grid>
            ))}

            {activeTab === 'Events' && filteredData.map(event => (
              <Grid item xs={12} sm={6} md={4} key={event.id}>
                <Card onClick={() => handleItemClick(event)} sx={{ cursor: 'pointer' }}>
                  <CardContent>
                    <Box sx={{ position: 'relative' }}>
                      <img src={event.thumbnail || "https://via.placeholder.com/150"} alt={event.title} style={{ width: '100%', borderRadius: '10px' }} />
                      <IconButton
                        sx={{ position: 'absolute', top: 10, right: 10, backgroundColor: 'rgba(255, 255, 255, 0.7)' }}
                        onClick={(e) => { e.stopPropagation(); /* Handle options */ }}
                      >
                        <Icon>more_vert</Icon>
                      </IconButton>
                    </Box>
                    <Typography variant="h6" sx={{ mt: 2 }}>
                      {event.title}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      {event.date} | {event.time}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      {event.location}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Hosted By: {event.hostedBy}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Category: {event.category}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Status: {event.status}
                    </Typography>
                  </CardContent>
                </Card>
              </Grid>
            ))}

            {activeTab === 'Groups' && filteredData.map(group => (
              <Grid item xs={12} sm={6} md={4} key={group.id}>
                <Card onClick={() => handleItemClick(group)} sx={{ cursor: 'pointer' }}>
                  <CardContent>
                    <Typography variant="h6" sx={{ mt: 2 }}>
                      {group.name} {group.type === "Org" && "(Org)"}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      {group.description}
                    </Typography>
                    <Typography variant="body2" color="text.secondary" sx={{ mt: 1 }}>
                      Members: {group.membersCount}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Location: {group.location}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Category: {group.category}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Created By: {group.createdBy}
                    </Typography>
                  </CardContent>
                </Card>
              </Grid>
            ))}

            {activeTab === 'People' && filteredData.map(person => (
              <Grid item xs={12} sm={6} md={4} key={person.id}>
                <Card onClick={() => handleItemClick(person)} sx={{ cursor: 'pointer' }}>
                  <CardContent>
                    <Box display="flex" alignItems="center" mb={2}>
                      <Avatar src={`https://i.pravatar.cc/150?u=${person.id}`} alt={person.name} sx={{ width: 56, height: 56, mr: 2 }} />
                      <Box>
                        <Typography variant="h6">{person.name}</Typography>
                        <Typography variant="body2" color="text.secondary">{person.location}</Typography>
                      </Box>
                    </Box>
                    <Typography variant="body2" color="text.secondary">
                      Skills: {person.skills.join(', ')}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Points: {person.points}
                    </Typography>
                    <Box display="flex" alignItems="center" sx={{ mt: 1 }}>
                      <CircularProgress value={person.trustScore} />
                      <Box
                        sx={{
                          top: 0,
                          left: 0,
                          bottom: 0,
                          right: 0,
                          position: 'absolute',
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: 'center',
                        }}
                      >
                        <Typography variant="caption" component="div" color="text.secondary">
                          {`${Math.round(person.trustScore)}%`}
                        </Typography>
                      </Box>
                    </Box>
                    <Typography variant="body2" color="text.secondary" sx={{ mt: 1 }}>
                      Badges: {person.badges.join(', ')}
                    </Typography>
                  </CardContent>
                </Card>
              </Grid>
            ))}
          </Grid>

          {/* Item Details Modal */}
          <Modal
            open={Boolean(selectedItem)}
            onClose={handleCloseModal}
            closeAfterTransition
            BackdropComponent={Backdrop}
            BackdropProps={{
              timeout: 500,
            }}
            aria-labelledby="item-modal-title"
            aria-describedby="item-modal-description"
          >
            <Fade in={Boolean(selectedItem)}>
              <Box className="modalContent">
                {selectedItem && activeTab === 'Sharing' && (
                  <>
                    <IconButton className="modalCloseButton" onClick={handleCloseModal}>
                      <Icon>close</Icon>
                    </IconButton>
                    <Typography id="item-modal-title" variant="h5" component="h2" sx={{ mb: 2 }}>
                      {selectedItem.title}
                    </Typography>
                    {selectedItem.image && <img src={selectedItem.image} alt={selectedItem.title} style={{ width: '100%', borderRadius: '10px', marginBottom: '20px' }} />}
                    <Typography variant="body1" sx={{ mb: 1 }}>
                      {selectedItem.description}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      {selectedItem.type === "Offer" ? `Offered By: ${selectedItem.offeredBy}` : selectedItem.type === "Request" ? `Requested By: ${selectedItem.requestedBy}` : `From: ${selectedItem.from}`}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Location: {selectedItem.location || "N/A"}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Status: {selectedItem.status}
                    </Typography>
                    <Button variant="contained" color="primary" onClick={handleCloseModal} sx={{ mt: 2 }}>
                      Close
                    </Button>
                  </>
                )}

                {selectedItem && activeTab === 'Events' && (
                  <>
                    <IconButton className="modalCloseButton" onClick={handleCloseModal}>
                      <Icon>close</Icon>
                    </IconButton>
                    <Typography id="item-modal-title" variant="h5" component="h2" sx={{ mb: 2 }}>
                      {selectedItem.title}
                    </Typography>
                    <img src={selectedItem.thumbnail || "https://via.placeholder.com/150"} alt={selectedItem.title} style={{ width: '100%', borderRadius: '10px', marginBottom: '20px' }} />
                    <Typography variant="body1" sx={{ mb: 1 }}>
                      {selectedItem.description}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Date: {selectedItem.date}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Time: {selectedItem.time}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Location: {selectedItem.location}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Hosted By: {selectedItem.hostedBy}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Category: {selectedItem.category}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Status: {selectedItem.status}
                    </Typography>
                    <Button variant="contained" color="primary" onClick={handleCloseModal} sx={{ mt: 2 }}>
                      Close
                    </Button>
                  </>
                )}

                {selectedItem && activeTab === 'Groups' && (
                  <>
                    <IconButton className="modalCloseButton" onClick={handleCloseModal}>
                      <Icon>close</Icon>
                    </IconButton>
                    <Typography id="item-modal-title" variant="h5" component="h2" sx={{ mb: 2 }}>
                      {selectedItem.name} {selectedItem.type === "Org" && "(Org)"}
                    </Typography>
                    <Typography variant="body1" sx={{ mb: 1 }}>
                      {selectedItem.description}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Members: {selectedItem.membersCount}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Location: {selectedItem.location}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Category: {selectedItem.category}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Created By: {selectedItem.createdBy}
                    </Typography>
                    <Button variant="contained" color="primary" onClick={handleCloseModal} sx={{ mt: 2 }}>
                      Close
                    </Button>
                  </>
                )}

                {selectedItem && activeTab === 'People' && (
                  <>
                    <IconButton className="modalCloseButton" onClick={handleCloseModal}>
                      <Icon>close</Icon>
                    </IconButton>
                    <Box display="flex" alignItems="center" mb={2}>
                      <Avatar src={`https://i.pravatar.cc/150?u=${selectedItem.id}`} alt={selectedItem.name} sx={{ width: 80, height: 80, mr: 2 }} />
                      <Box>
                        <Typography variant="h5">{selectedItem.name}</Typography>
                        <Typography variant="body2" color="text.secondary">{selectedItem.location}</Typography>
                      </Box>
                    </Box>
                    <Typography variant="body1" sx={{ mb: 1 }}>
                      Skills: {selectedItem.skills.join(', ')}
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                      Points: {selectedItem.points}
                    </Typography>
                    <Box display="flex" alignItems="center" sx={{ mt: 1, mb: 1 }}>
                      <CircularProgress value={selectedItem.trustScore} />
                      <Box
                        sx={{
                          top: 0,
                          left: 0,
                          bottom: 0,
                          right: 0,
                          position: 'absolute',
                          display: 'flex',
                          alignItems: 'center',
                          justifyContent: 'center',
                        }}
                      >
                        <Typography variant="caption" component="div" color="text.secondary">
                          {`${Math.round(selectedItem.trustScore)}%`}
                        </Typography>
                      </Box>
                    </Box>
                    <Typography variant="body2" color="text.secondary">
                      Badges: {selectedItem.badges.join(', ')}
                    </Typography>
                    <Button variant="contained" color="primary" onClick={handleCloseModal} sx={{ mt: 2 }}>
                      Close
                    </Button>
                  </>
                )}
              </Box>
            </Fade>
          </Modal>
        </Box>
      );
    }

    // Right Pane - Group Feed Section
    function RightPane() {
      const [selectedPost, setSelectedPost] = React.useState(null);
      const [commentText, setCommentText] = React.useState('');

      const posts = [
        {
          id: 1,
          avatar: "https://randomuser.me/api/portraits/women/25.jpg",
          name: "Miekie Smith",
          timestamp: "in a day",
          content: "This is a placeholder post content. Excited about the upcoming events!",
          image: "https://via.placeholder.com/300x200",
          reactions: { likes: 10, comments: 2 },
          comments: [
            {
              id: 1,
              avatar: "https://randomuser.me/api/portraits/men/41.jpg",
              name: "Tom Baker",
              text: "Looking forward to it!",
            },
            {
              id: 2,
              avatar: "https://randomuser.me/api/portraits/women/65.jpg",
              name: "Emily Clark",
              text: "Me too!",
            },
          ],
        },
        // Add more posts as needed
      ];

      const handlePostClick = (post) => {
        setSelectedPost(post);
      };

      const handleCloseModal = () => {
        setSelectedPost(null);
        setCommentText('');
      };

      const handleAddComment = () => {
        if (commentText.trim() === '') return;
        // Here you would typically update the state or make an API call
        alert(`Comment added: ${commentText}`);
        setCommentText('');
      };

      return (
        <Box className="right-pane" sx={{ width: 300, p: 2, backgroundColor: '#ffffff', height: '100vh', position: 'fixed', top: 64, right: 0, overflowY: 'auto' }}>
          <Typography variant="h6" sx={{ mb: 2 }}>Group Feed</Typography>
          <List>
            {posts.map(post => (
              <ListItem key={post.id} alignItems="flex-start" sx={{ mb: 2, cursor: 'pointer' }} onClick={() => handlePostClick(post)}>
                <ListItemAvatar>
                  <Avatar src={post.avatar} alt={post.name} />
                </ListItemAvatar>
                <ListItemText
                  primary={
                    <Box display="flex" alignItems="center" justifyContent="space-between">
                      <Typography variant="subtitle1" sx={{ fontWeight: 'bold' }}>
                        {post.name}
                      </Typography>
                      <Typography variant="caption" color="text.secondary">
                        {post.timestamp}
                      </Typography>
                    </Box>
                  }
                  secondary={
                    <>
                      <Typography variant="body2" color="text.primary">
                        {post.content}
                      </Typography>
                      {post.image && <img src={post.image} alt="Post Image" style={{ width: '100%', borderRadius: '10px', marginTop: '10px' }} />}
                      <Box display="flex" alignItems="center" sx={{ mt: 1 }}>
                        <IconButton size="small">
                          <Icon>favorite</Icon>
                        </IconButton>
                        <Typography variant="caption" sx={{ mr: 2 }}>
                          {post.reactions.likes}
                        </Typography>
                        <IconButton size="small">
                          <Icon>comment</Icon>
                        </IconButton>
                        <Typography variant="caption">
                          {post.reactions.comments}
                        </Typography>
                      </Box>
                    </>
                  }
                />
              </ListItem>
            ))}
          </List>

          {/* Post Details Modal */}
          <Modal
            open={Boolean(selectedPost)}
            onClose={handleCloseModal}
            closeAfterTransition
            BackdropComponent={Backdrop}
            BackdropProps={{
              timeout: 500,
            }}
            aria-labelledby="post-modal-title"
            aria-describedby="post-modal-description"
          >
            <Fade in={Boolean(selectedPost)}>
              <Box className="modalContent">
                {selectedPost && (
                  <>
                    <IconButton className="modalCloseButton" onClick={handleCloseModal}>
                      <Icon>close</Icon>
                    </IconButton>
                    <Grid container spacing={2} sx={{ mb: 2 }}>
                      <Grid item>
                        <Avatar src={selectedPost.avatar} alt={selectedPost.name} sx={{ width: 56, height: 56 }} />
                      </Grid>
                      <Grid item xs>
                        <Typography variant="h6" component="h2">
                          {selectedPost.name}
                        </Typography>
                        <Typography variant="body2" color="text.secondary">
                          {selectedPost.timestamp}
                        </Typography>
                      </Grid>
                    </Grid>
                    <Typography variant="body1" sx={{ mb: 2 }}>
                      {selectedPost.content}
                    </Typography>
                    {selectedPost.image && <img src={selectedPost.image} alt="Post Image" style={{ width: '100%', borderRadius: '10px', marginBottom: '20px' }} />}
                    <Box display="flex" alignItems="center" sx={{ mb: 2 }}>
                      <IconButton>
                        <Icon>favorite</Icon>
                      </IconButton>
                      <Typography variant="body2" sx={{ mr: 2 }}>
                        {selectedPost.reactions.likes} Likes
                      </Typography>
                      <IconButton>
                        <Icon>comment</Icon>
                      </IconButton>
                      <Typography variant="body2">
                        {selectedPost.reactions.comments} Comments
                      </Typography>
                    </Box>
                    {/* Comments Section */}
                    <Box sx={{ maxHeight: '200px', overflowY: 'auto', mb: 2 }}>
                      {selectedPost.comments.map(comment => (
                        <Box key={comment.id} display="flex" alignItems="center" sx={{ mb: 1 }}>
                          <Avatar src={comment.avatar} alt={comment.name} sx={{ width: 30, height: 30, mr: 1 }} />
                          <Box>
                            <Typography variant="subtitle2">{comment.name}</Typography>
                            <Typography variant="body2">{comment.text}</Typography>
                          </Box>
                        </Box>
                      ))}
                    </Box>
                    {/* Add Comment */}
                    <Box display="flex" alignItems="center">
                      <Avatar src="https://randomuser.me/api/portraits/men/41.jpg" alt="User" sx={{ width: 30, height: 30, mr: 1 }} />
                      <TextField
                        variant="outlined"
                        placeholder="Add a comment..."
                        size="small"
                        fullWidth
                        value={commentText}
                        onChange={(e) => setCommentText(e.target.value)}
                      />
                      <Button onClick={handleAddComment} sx={{ ml: 1 }}>Post</Button>
                    </Box>
                  </>
                )}
              </Box>
            </Fade>
          </Modal>
        </Box>
      );
    }

    // Footer Component
    function Footer() {
      return (
        <Box sx={{ backgroundColor: '#f5f5f5', p: 4, mt: 4 }}>
          <Container maxWidth="lg">
            <Grid container spacing={4}>
              <Grid item xs={12} md={4}>
                <Typography variant="h6" sx={{ mb: 2 }}>ONE Local</Typography>
                <List>
                  <ListItem disableGutters>
                    <Link href="#" color="inherit" underline="none">
                      <ListItemText primary="Join Us" />
                    </Link>
                  </ListItem>
                  <ListItem disableGutters>
                    <Link href="#" color="inherit" underline="none">
                      <ListItemText primary="Advertise" />
                    </Link>
                  </ListItem>
                  <ListItem disableGutters>
                    <Link href="#" color="inherit" underline="none">
                      <ListItemText primary="Creators" />
                    </Link>
                  </ListItem>
                  <ListItem disableGutters>
                    <Link href="#" color="inherit" underline="none">
                      <ListItemText primary="Terms of Service" />
                    </Link>
                  </ListItem>
                  <ListItem disableGutters>
                    <Link href="#" color="inherit" underline="none">
                      <ListItemText primary="Privacy" />
                    </Link>
                  </ListItem>
                  <ListItem disableGutters>
                    <Link href="#" color="inherit" underline="none">
                      <ListItemText primary="Safety" />
                    </Link>
                  </ListItem>
                  <ListItem disableGutters>
                    <Link href="#" color="inherit" underline="none">
                      <ListItemText primary="Newsroom" />
                    </Link>
                  </ListItem>
                  <ListItem disableGutters>
                    <Link href="#" color="inherit" underline="none">
                      <ListItemText primary="API" />
                    </Link>
                  </ListItem>
                </List>
              </Grid>
              <Grid item xs={12} md={4}>
                <Typography variant="h6" sx={{ mb: 2 }}>Follow Us</Typography>
                <Box display="flex" gap={1}>
                  <IconButton href="#" color="primary">
                    <Icon>facebook</Icon>
                  </IconButton>
                  <IconButton href="#" color="primary">
                    <Icon>twitter</Icon>
                  </IconButton>
                  <IconButton href="#" color="primary">
                    <Icon>instagram</Icon>
                  </IconButton>
                  <IconButton href="#" color="primary">
                    <Icon>linkedin</Icon>
                  </IconButton>
                </Box>
              </Grid>
              <Grid item xs={12} md={4}>
                <Typography variant="h6" sx={{ mb: 2 }}>Newsletter Signup</Typography>
                <Typography variant="body2" sx={{ mb: 2 }}>
                  Get the Latest Stories and Updates — Sign Up Here.
                </Typography>
                <Box display="flex" gap={1}>
                  <TextField
                    variant="outlined"
                    size="small"
                    placeholder="Email"
                    fullWidth
                  />
                  <Button variant="contained" color="primary">Subscribe</Button>
                </Box>
              </Grid>
            </Grid>
            <Divider sx={{ my: 4 }} />
            <Box textAlign="center">
              <Typography variant="body2" color="text.secondary">
                © 2024 ONE Local. All rights reserved.
              </Typography>
            </Box>
          </Container>
        </Box>
      );
    }

    // Dashboard Component integrating Header, Sidebar, MainContent, RightPane, and Footer
    function Dashboard() {
      const [activeTab, setActiveTab] = React.useState('Sharing');
      const [searchText, setSearchText] = React.useState('');

      return (
        <Box sx={{ display: 'flex' }}>
          <Header searchText={searchText} setSearchText={setSearchText} />
          <Sidebar />
          <MainContent activeTab={activeTab} setActiveTab={setActiveTab} />
          <RightPane />
          <Footer />
        </Box>
      );
    }

    // Render the Dashboard
    ReactDOM.createRoot(document.getElementById('root')).render(
      <ThemeProvider theme={theme}>
        <CssBaseline />
        <Dashboard />
      </ThemeProvider>
    );
  </script>
</body>
</html>

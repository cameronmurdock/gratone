<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ONE Local Dashboard</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:300,400,500,700|Playfair+Display&display=swap">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <script src="https://unpkg.com/@mui/material@5.11.0/umd/material-ui.development.js" crossorigin></script>
  <script src="https://unpkg.com/@mui/icons-material@5.11.0/umd/material-ui-icons.development.js" crossorigin></script>

  <style>
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
      background-size: 400% 400%;
      animation: gradientBG 15s ease infinite;
      color: #333;
      overflow: hidden; /* Prevent scrollbars during modal open */
    }
    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .modalContent {  /* Style the modal content */
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 90%;        /* Make modal responsive */
      max-width: 600px;
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2);
      padding: 20px;
      outline: none;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">

  // ... (MUI imports - same as before)

const theme = createTheme({
      palette: { // ... your color palette from org page },
      typography: { // ... your typography settings from org page },
      // ... other theme settings
});



function App() {
  const avatars = [
    "https://randomuser.me/api/portraits/men/32.jpg",
    "https://randomuser.me/api/portraits/women/65.jpg",
    // ... more avatars
  ];

  const allPosts = { /* ... your post data */ };

  const [activeTab, setActiveTab] = React.useState('Events');
  const [searchText, setSearchText] = React.useState('');
  const [selectedPost, setSelectedPost] = React.useState(null);

  const filteredPosts = allPosts[activeTab]?.filter(post =>
    post.content.toLowerCase().includes(searchText.toLowerCase()) ||
    post.user.toLowerCase().includes(searchText.toLowerCase())
  ) || [];

  const openModal = (post) => setSelectedPost(post);
  const closeModal = () => setSelectedPost(null);

  return (
    <ThemeProvider theme={theme}>
      <CssBaseline />
      <Box sx={{ bgcolor: 'background.default', minHeight: '100vh', display: 'flex', flexDirection: 'column' }}> 
        <NavigationBar searchText={searchText} setSearchText={setSearchText} />
        <AvatarRow avatars={avatars} />
        <TabPanel activeTab={activeTab} allPosts={allPosts} setActiveTab={setActiveTab} />
        <Dashboard filteredPosts={filteredPosts} openModal={openModal} />
        <PostModal post={selectedPost} closeModal={closeModal} />
      </Box>
    </ThemeProvider>
  );
}



    // ... (NavigationBar, AvatarRow, TabPanel, Dashboard -  same as before - but use theme-aware styling with sx prop)

function PostModal({ post, closeModal }) {
  const handleClose = () => {
    closeModal();
  };
    return (
      <Modal
        open={!!post}
        onClose={handleClose}  // Use handleClose here
        closeAfterTransition
        BackdropComponent={Backdrop}
        BackdropProps={{
          timeout: 500,
        }}
      >
        <Fade in={!!post}>  {/* Fade transition */}
          <Box className="modalContent" sx={{ bgcolor: 'background.paper',  width: { xs: '90%', md: '600px' } }}>
            <IconButton
              aria-label="close"
              onClick={handleClose}  // And here
              sx={{ position: 'absolute', right: 8, top: 8, color: (theme) => theme.palette.grey[500] }}
            >
              <Icon>close</Icon>
            </IconButton>
            {post && (
              <>
                <Typography variant="h5" component="h2" sx={{ mb: 2 }}>{post.user}</Typography>
                <Typography sx={{ mb: 1 }}><strong>Date:</strong> {post.date}</Typography>
                <Typography sx={{ mb: 2 }}>{post.content}</Typography>
                <Button variant="contained" onClick={handleClose}>Close</Button> {/* Close button */}
              </>
            )}
          </Box>
        </Fade>
      </Modal>
    );
  }



ReactDOM.createRoot(document.getElementById('root')).render(<App />);

  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>ONE Local Object Builder</title>
  <!-- Responsive Meta Tag -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Material-UI CSS -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" />
  <!-- Material Icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons" />
  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: 'Roboto', sans-serif;
      background-color: #f5f5f5;
    }
    #root {
      padding: 20px;
    }
    .json-output {
      width: 100%;
      height: 300px;
      margin-top: 20px;
      padding: 10px;
      font-family: 'Courier New', Courier, monospace;
      font-size: 14px;
      background-color: #e0e0e0;
      border-radius: 8px;
      overflow: auto;
    }
    .nested-form {
      border-left: 2px solid #ccc;
      padding-left: 15px;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <!-- React and ReactDOM -->
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <!-- Babel for JSX Transformation -->
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <!-- Material-UI Components -->
  <script src="https://unpkg.com/@mui/material@5.11.0/umd/material-ui.development.js" crossorigin></script>
  <script src="https://unpkg.com/@mui/icons-material@5.11.0/umd/material-ui-icons.development.js" crossorigin></script>

  <script type="text/babel">
    const {
      Button,
      TextField,
      Select,
      MenuItem,
      FormControl,
      InputLabel,
      Tabs,
      Tab,
      Box,
      Typography,
      Autocomplete,
      Grid,
      Paper,
      Checkbox,
      FormControlLabel,
      Chip,
      IconButton,
      Divider,
      Tooltip,
    } = MaterialUI;

    // Define the object types and their properties based on the provided schema
    const objectTypes = [
      {
        name: 'User',
        properties: [
          { label: 'ID', name: 'id', type: 'text', required: true },
          { label: 'Agent ID', name: 'agentId', type: 'text' },
          { label: 'First Name', name: 'firstName', type: 'text', required: true },
          { label: 'Last Name', name: 'lastName', type: 'text', required: true },
          { label: 'Name', name: 'name', type: 'text', required: true },
          { label: 'Nickname', name: 'nickName', type: 'text' },
          { label: 'Username', name: 'userName', type: 'text', required: true },
          { label: 'Date of Birth', name: 'dateOfBirth', type: 'date' },
          {
            label: 'Password',
            name: 'password',
            type: 'password',
            helperText: 'Password is hashed and never stored or transmitted in plain text.',
          },
          {
            label: 'Alternate Identities',
            name: 'alternateIdentities',
            type: 'object',
            fields: [
              { label: 'Agent ID', name: 'agentId', type: 'text' },
              { label: 'First Name', name: 'firstName', type: 'text' },
              { label: 'Last Name', name: 'lastName', type: 'text' },
              { label: 'Name', name: 'name', type: 'text' },
              { label: 'Moniker', name: 'moniker', type: 'text' },
              { label: 'Username', name: 'userName', type: 'text' },
              { label: 'Catchphrase', name: 'catchphrase', type: 'text' },
              { label: 'Email', name: 'email', type: 'email' },
              {
                label: 'Alternate Identities',
                name: 'alternateIdentities',
                type: 'array',
                fields: [
                  { label: 'Agent ID', name: 'agentId', type: 'text' },
                  { label: 'First Name', name: 'firstName', type: 'text' },
                  { label: 'Last Name', name: 'lastName', type: 'text' },
                  { label: 'Name', name: 'name', type: 'text' },
                  { label: 'Moniker', name: 'moniker', type: 'text' },
                  { label: 'Username', name: 'userName', type: 'text' },
                  { label: 'Catchphrase', name: 'catchphrase', type: 'text' },
                  { label: 'Email', name: 'email', type: 'email' },
                ],
              },
            ],
          },
          { label: 'Email', name: 'email', type: 'email', required: true },
          { label: 'Phone', name: 'phone', type: 'tel' },
          {
            label: 'Address',
            name: 'address',
            type: 'object',
            fields: [
              { label: 'Street', name: 'street', type: 'text' },
              { label: 'City', name: 'city', type: 'text' },
              { label: 'State', name: 'state', type: 'text' },
              { label: 'Zip', name: 'zip', type: 'text' },
              { label: 'Province', name: 'province', type: 'text' },
              { label: 'Country', name: 'country', type: 'text' },
              { label: 'Region', name: 'region', type: 'text' },
              {
                label: 'Ecoregion',
                name: 'ecoregion',
                type: 'object',
                fields: [
                  { label: 'LV1 Ecoregion', name: 'lv1_ecoregion', type: 'text' },
                  { label: 'LV2 Ecoregion', name: 'lv2_ecoregion', type: 'text' },
                  { label: 'LV3 Ecoregion', name: 'lv3_ecoregion', type: 'text' },
                  { label: 'LV4 Ecoregion', name: 'lv4_ecoregion', type: 'text' },
                ],
              },
              { label: 'Continent', name: 'continent', type: 'text' },
              { label: 'Planet', name: 'planet', type: 'text' },
              { label: 'Star System', name: 'starsystem', type: 'text' },
            ],
          },
          {
            label: 'Location',
            name: 'location',
            type: 'object',
            fields: [
              { label: 'Name', name: 'name', type: 'text' },
              { label: 'Venue', name: 'venue', type: 'text' },
              { label: 'Latitude', name: 'latitude', type: 'number' },
              { label: 'Longitude', name: 'longitude', type: 'number' },
            ],
          },
          {
            label: 'Referred By',
            name: 'referredBy',
            type: 'object',
            fields: [
              { label: 'ID', name: 'id', type: 'text' },
              { label: 'Name', name: 'name', type: 'text' },
            ],
          },
          { label: 'Profile Picture URL', name: 'profilePicture', type: 'url' },
          { label: 'Background Picture URL', name: 'backgroundPicture', type: 'url' },
          { label: 'Description', name: 'description', type: 'textarea' },
          {
            label: 'Memberships',
            name: 'memberships',
            type: 'object',
            fields: [
              {
                label: 'Player',
                name: 'Player',
                type: 'array',
                fields: [
                  { label: 'Membership Detail', name: 'membershipDetail', type: 'text' },
                ],
              },
              {
                label: 'Producer',
                name: 'Producer',
                type: 'array',
                fields: [
                  { label: 'Membership Detail', name: 'membershipDetail', type: 'text' },
                ],
              },
              {
                label: 'Product Merchant',
                name: 'ProductMerchant',
                type: 'array',
                fields: [
                  { label: 'Membership Detail', name: 'membershipDetail', type: 'text' },
                ],
              },
              {
                label: 'Service Provider',
                name: 'ServiceProvider',
                type: 'array',
                fields: [
                  { label: 'Membership Detail', name: 'membershipDetail', type: 'text' },
                ],
              },
              {
                label: 'Organization Operator',
                name: 'orgOperator',
                type: 'array',
                fields: [
                  { label: 'Membership Detail', name: 'membershipDetail', type: 'text' },
                ],
              },
            ],
          },
          {
            label: 'Attributes',
            name: 'attributes',
            type: 'object',
            fields: [
              {
                label: 'Physical Traits',
                name: 'physicalTraits',
                type: 'array',
                fields: [
                  { label: 'Height', name: 'height', type: 'text' },
                  { label: 'Weight', name: 'weight', type: 'text' },
                  { label: 'Hair Color', name: 'hairColor', type: 'text' },
                  { label: 'Eye Color', name: 'eyeColor', type: 'text' },
                ],
              },
              {
                label: 'Personality Traits',
                name: 'personalityTraits',
                type: 'array',
                fields: [
                  { label: 'Personality', name: 'personality', type: 'text' },
                ],
              },
              {
                label: 'Wealth',
                name: 'wealth',
                type: 'array',
                fields: [
                  { label: 'Cash', name: 'cash', type: 'number' },
                  { label: 'Crypto', name: 'crypto', type: 'text' },
                  { label: 'In-Game Token', name: 'inGameToken', type: 'text' },
                  { label: 'Gift Points', name: 'giftPoints', type: 'number' },
                  { label: 'Resource', name: 'resource', type: 'text' },
                ],
              },
              { label: 'Human Design', name: 'humanDesign', type: 'text' },
              { label: 'Astrology', name: 'astrology', type: 'text' },
              { label: 'Numerology', name: 'numerology', type: 'text' },
              { label: 'Gene Keys', name: 'geneKeys', type: 'text' },
              { label: 'Myers-Briggs', name: 'myersBriggs', type: 'text' },
              { label: 'Enneagram', name: 'enneagram', type: 'text' },
              { label: 'Big Five', name: 'bigFive', type: 'text' },
              { label: 'StrengthsFinder', name: 'strengthsFinder', type: 'text' },
              { label: 'Wealth Dynamics', name: 'wealthDynamics', type: 'text' },
            ],
          },
          {
            label: 'Skills',
            name: 'skills',
            type: 'object',
            fields: [
              {
                label: 'Skill',
                name: 'Skill',
                type: 'array',
                fields: [
                  { label: 'Type', name: 'type', type: 'select', options: ['Programming', 'Design', 'Gardening', 'Carpentry'] },
                ],
              },
            ],
          },
          {
            label: 'Resources',
            name: 'resources',
            type: 'object',
            fields: [
              {
                label: 'Asset',
                name: 'asset',
                type: 'object',
                fields: [
                  { label: 'Type', name: 'type', type: 'select', options: ['Cash', 'Crypto', 'NFT', 'In-Game Token', 'Gift Points', 'Resource'] },
                  { label: 'Cash USD', name: 'cashUSD', type: 'number' },
                  { label: 'Crypto', name: 'crypto', type: 'text' },
                  { label: 'NFT', name: 'NFT', type: 'text' },
                  { label: 'In-Game Token', name: 'inGameToken', type: 'text' },
                  { label: 'Gift Points', name: 'giftPoints', type: 'number' },
                  { label: 'Resource', name: 'resource', type: 'text' },
                ],
              },
              { label: 'Quantity', name: 'quantity', type: 'number' },
              {
                label: 'Location',
                name: 'location',
                type: 'select',
                options: ['urn:uuid:location001', 'urn:uuid:location002'],
              },
              {
                label: 'Permissions',
                name: 'permissions',
                type: 'object',
                fields: [
                  { label: 'Can Edit', name: 'canEdit', type: 'checkbox' },
                  { label: 'Can View', name: 'canView', type: 'checkbox' },
                  { label: 'Can Take', name: 'canTake', type: 'checkbox' },
                  { label: 'Can Take User', name: 'canTakeUser', type: 'checkbox' },
                  { label: 'Can Take Org', name: 'canTakeOrg', type: 'checkbox' },
                  { label: 'Can Take Group', name: 'canTakeGroup', type: 'checkbox' },
                  { label: 'Can Take Badge', name: 'canTakeBadge', type: 'checkbox' },
                ],
              },
              { label: 'Min Token Quantity', name: 'minTokenQuantity', type: 'number' },
              {
                label: 'Services',
                name: 'services',
                type: 'select',
                options: ['Service1', 'Service2'],
              },
              {
                label: 'Products',
                name: 'products',
                type: 'select',
                options: ['Product1', 'Product2'],
              },
            ],
          },
          {
            label: 'Organizations',
            name: 'organizations',
            type: 'array',
            fields: [
              { label: 'Organization ID', name: 'organizationId', type: 'select', options: ['urn:uuid:org001', 'urn:uuid:org456'] },
            ],
          },
          {
            label: 'Groups',
            name: 'groups',
            type: 'object',
            fields: [
              {
                label: 'Group',
                name: 'Group',
                type: 'array',
                fields: [
                  { label: 'Group ID', name: 'id', type: 'select', options: ['G123', 'G456'] },
                  { label: 'Name', name: 'name', type: 'text' },
                  { label: 'Description', name: 'description', type: 'text' },
                  {
                    label: 'Roles',
                    name: 'roles',
                    type: 'object',
                    fields: [
                      {
                        label: 'Role',
                        name: 'Role',
                        type: 'array',
                        fields: [
                          { label: 'Role ID', name: 'id', type: 'select', options: ['R123', 'R456'] },
                          { label: 'Name', name: 'name', type: 'text' },
                          { label: 'Description', name: 'description', type: 'text' },
                          { label: 'Responsibilities', name: 'responsibilities', type: 'textarea' },
                          {
                            label: 'Tasks',
                            name: 'tasks',
                            type: 'array',
                            fields: [
                              { label: 'Task ID', name: 'taskId', type: 'select', options: ['T123', 'T456'] },
                            ],
                          },
                        ],
                      },
                    ],
                  },
                ],
              },
            ],
          },
          {
            label: 'Projects',
            name: 'projects',
            type: 'array',
            fields: [
              { label: 'Project ID', name: 'projectId', type: 'select', options: ['P123', 'P456'] },
            ],
          },
          {
            label: 'Events',
            name: 'events',
            type: 'object',
            fields: [
              {
                label: 'Producing',
                name: 'producing',
                type: 'select',
                options: ['User1', 'User2'],
              },
              { label: 'Maybe Going', name: 'maybeGoing', type: 'select', options: ['E123', 'E456'] },
              { label: 'Went', name: 'went', type: 'select', options: ['E123', 'E456'] },
              { label: 'At', name: 'at', type: 'select', options: ['E123', 'E456'] },
              { label: 'Going', name: 'going', type: 'select', options: ['E123', 'E456'] },
              { label: 'Interested', name: 'interested', type: 'select', options: ['E123', 'E456'] },
              { label: 'Not Going', name: 'notGoing', type: 'select', options: ['E123', 'E456'] },
              { label: 'Viewed', name: 'viewed', type: 'select', options: ['E123', 'E456'] },
              { label: 'Created', name: 'created', type: 'select', options: ['E123', 'E456'] },
              {
                label: 'Hosting',
                name: 'hosting',
                type: 'select',
                options: ['E123', 'E456'],
              },
            ],
          },
          {
            label: 'Roles',
            name: 'roles',
            type: 'array',
            fields: [
              { label: 'Role ID', name: 'id', type: 'select', options: ['Role1', 'Role2'] },
              { label: 'Name', name: 'name', type: 'text' },
            ],
          },
          {
            label: 'Tasks',
            name: 'tasks',
            type: 'array',
            fields: [
              { label: 'Task ID', name: 'id', type: 'select', options: ['Task1', 'Task2'] },
              { label: 'Name', name: 'name', type: 'text' },
              { label: 'Summary', name: 'summary', type: 'text' },
              { label: 'Description', name: 'description', type: 'textarea' },
              { label: 'When', name: 'when', type: 'datetime-local' },
              { label: 'Work Periods', name: 'workPeriods', type: 'datetime-local' },
              { label: 'Due Date', name: 'dueDate', type: 'datetime-local' },
              {
                label: 'Bounty Type',
                name: 'bountyType',
                type: 'select',
                options: ['Cash', 'Crypto', 'In-Game Token', 'Gift Points', 'Resource'],
              },
              { label: 'Bounty Amount', name: 'bountyAmount', type: 'number' },
              {
                label: 'Location',
                name: 'location',
                type: 'select',
                options: ['Location1', 'Location2'],
              },
              { label: 'Schedule', name: 'schedule', type: 'text' },
              {
                label: 'Stakeholders',
                name: 'stakeholders',
                type: 'select',
                options: ['User1', 'User2'],
              },
              {
                label: 'Resources',
                name: 'resources',
                type: 'select',
                options: ['Resource1', 'Resource2'],
              },
              {
                label: 'Permissions',
                name: 'permissions',
                type: 'object',
                fields: [
                  { label: 'Can Edit', name: 'canEdit', type: 'checkbox' },
                  { label: 'Can View', name: 'canView', type: 'checkbox' },
                  { label: 'Can Take', name: 'canTake', type: 'checkbox' },
                  { label: 'Can Take User', name: 'canTakeUser', type: 'checkbox' },
                  { label: 'Can Take Org', name: 'canTakeOrg', type: 'checkbox' },
                  { label: 'Can Take Group', name: 'canTakeGroup', type: 'checkbox' },
                  { label: 'Can Take Badge', name: 'canTakeBadge', type: 'checkbox' },
                ],
              },
              { label: 'Can Take Min Token Quantity', name: 'canTakeMinTokenQuantity', type: 'number' },
              { label: 'Services', name: 'services', type: 'select', options: ['Service1', 'Service2'] },
              { label: 'Products', name: 'products', type: 'select', options: ['Product1', 'Product2'] },
            ],
          },
          {
            label: 'Badges',
            name: 'badges',
            type: 'array',
            fields: [
              { label: 'Badge ID', name: 'id', type: 'select', options: ['Badge1', 'Badge2'] },
              { label: 'Name', name: 'name', type: 'text' },
              { label: 'Description', name: 'description', type: 'text' },
            ],
          },
          {
            label: 'Products',
            name: 'products',
            type: 'array',
            fields: [
              { label: 'Product ID', name: 'id', type: 'select', options: ['Product1', 'Product2'] },
              { label: 'Name', name: 'name', type: 'text' },
              { label: 'Description', name: 'description', type: 'textarea' },
              { label: 'Price', name: 'price', type: 'number' },
              { label: 'Owner', name: 'owner', type: 'select', options: ['urn:uuid:user123', 'urn:uuid:org456'] },
            ],
          },
          {
            label: 'Services',
            name: 'services',
            type: 'array',
            fields: [
              { label: 'Service ID', name: 'id', type: 'select', options: ['Service1', 'Service2'] },
              { label: 'Name', name: 'name', type: 'text' },
              { label: 'Description', name: 'description', type: 'textarea' },
              { label: 'Price', name: 'price', type: 'number' },
              { label: 'Provider', name: 'provider', type: 'select', options: ['urn:uuid:user123', 'urn:uuid:org456'] },
            ],
          },
          {
            label: 'Offers',
            name: 'offers',
            type: 'array',
            fields: [
              { label: 'Offer ID', name: 'id', type: 'select', options: ['Offer1', 'Offer2'] },
              { label: 'Description', name: 'description', type: 'textarea' },
              { label: 'Item Offered', name: 'itemOffered', type: 'text' },
              { label: 'Price', name: 'price', type: 'number' },
              { label: 'Price Currency', name: 'priceCurrency', type: 'select', options: ['USD', 'EUR', 'GBP', 'JPY'] },
              { label: 'Availability', name: 'availability', type: 'select', options: ['InStock', 'OutOfStock'] },
              { label: 'Valid From', name: 'validFrom', type: 'datetime-local' },
              { label: 'Valid Through', name: 'validThrough', type: 'datetime-local' },
              { label: 'Seller', name: 'seller', type: 'select', options: ['urn:uuid:user123', 'urn:uuid:org456'] },
              {
                label: 'Accepted Payment Methods',
                name: 'acceptedPaymentMethod',
                type: 'multiselect',
                options: ['CreditCard', 'PayPal', 'Cash'],
              },
            ],
          },
          {
            label: 'Requests',
            name: 'requests',
            type: 'array',
            fields: [
              { label: 'Request ID', name: 'id', type: 'select', options: ['Request1', 'Request2'] },
              { label: 'Description', name: 'description', type: 'textarea' },
              { label: 'Buyer', name: 'buyer', type: 'select', options: ['urn:uuid:user123', 'urn:uuid:org456'] },
            ],
          },
          {
            label: 'Gratis Points',
            name: 'gratisPoints',
            type: 'array',
            fields: [
              { label: 'Gratis ID', name: 'id', type: 'select', options: ['Gratis1', 'Gratis2'] },
              { label: 'User', name: 'user', type: 'select', options: ['urn:uuid:user123', 'urn:uuid:user456'] },
              { label: 'Source', name: 'source', type: 'text' },
              { label: 'Points', name: 'points', type: 'number' },
            ],
          },
          {
            label: 'Posts',
            name: 'posts',
            type: 'array',
            fields: [
              { label: 'Post ID', name: 'id', type: 'select', options: ['Post1', 'Post2'] },
              { label: 'Content', name: 'content', type: 'textarea' },
              { label: 'User', name: 'user', type: 'select', options: ['urn:uuid:user123', 'urn:uuid:user456'] },
              {
                label: 'Comments',
                name: 'comments',
                type: 'array',
                fields: [
                  { label: 'Comment ID', name: 'commentId', type: 'select', options: ['Comment1', 'Comment2'] },
                ],
              },
            ],
          },
          {
            label: 'Interests',
            name: 'interests',
            type: 'array',
            fields: [
              { label: 'Interest ID', name: 'id', type: 'select', options: ['Interest1', 'Interest2'] },
              { label: 'Name', name: 'name', type: 'text' },
            ],
          },
          {
            label: 'Purchases',
            name: 'purchases',
            type: 'array',
            fields: [
              { label: 'Purchase ID', name: 'id', type: 'select', options: ['Purchase1', 'Purchase2'] },
              { label: 'Product', name: 'product', type: 'select', options: ['Product1', 'Product2'] },
              { label: 'Buyer', name: 'buyer', type: 'select', options: ['urn:uuid:user123', 'urn:uuid:user456'] },
            ],
          },
          {
            label: 'In-Game Tokens',
            name: 'inGameTokens',
            type: 'array',
            fields: [
              { label: 'Token ID', name: 'id', type: 'select', options: ['Token1', 'Token2'] },
              { label: 'User', name: 'user', type: 'select', options: ['urn:uuid:user123', 'urn:uuid:user456'] },
              { label: 'Tokens', name: 'tokens', type: 'number' },
            ],
          },
          {
            label: 'Friendships',
            name: 'friendships',
            type: 'object',
            fields: [
              {
                label: 'Friendship',
                name: 'Friendship',
                type: 'array',
                fields: [
                  { label: 'Type', name: 'type', type: 'select', options: ['Stranger', 'Heard Of', 'Close', 'Acquaintance', 'Related', 'Intimate', 'Business Connection', 'Physical', 'Committed Relationship', 'Open Relationship'] },
                  {
                    label: 'View Permissions',
                    name: 'viewPermissions',
                    type: 'object',
                    fields: [
                      { label: 'Can View', name: 'canView', type: 'checkbox' },
                      { label: 'Can Edit', name: 'canEdit', type: 'checkbox' },
                      { label: 'Can Take', name: 'canTake', type: 'checkbox' },
                    ],
                  },
                  {
                    label: 'Physical Traits',
                    name: 'physicalTraits',
                    type: 'array',
                    fields: [
                      { label: 'Height', name: 'height', type: 'text' },
                      { label: 'Weight', name: 'weight', type: 'text' },
                      { label: 'Hair Color', name: 'hairColor', type: 'text' },
                      { label: 'Eye Color', name: 'eyeColor', type: 'text' },
                    ],
                  },
                  {
                    label: 'Personality Traits',
                    name: 'personalityTraits',
                    type: 'array',
                    fields: [
                      { label: 'Personality', name: 'personality', type: 'text' },
                    ],
                  },
                  { label: 'Location', name: 'location', type: 'select', options: ['Location1', 'Location2'] },
                  {
                    label: 'Interests',
                    name: 'interests',
                    type: 'select',
                    options: ['Interest1', 'Interest2'],
                  },
                  {
                    label: 'Skills',
                    name: 'skills',
                    type: 'select',
                    options: ['Skill1', 'Skill2'],
                  },
                  {
                    label: 'Resources',
                    name: 'resources',
                    type: 'select',
                    options: ['Resource1', 'Resource2'],
                  },
                  {
                    label: 'Projects',
                    name: 'projects',
                    type: 'select',
                    options: ['Project1', 'Project2'],
                  },
                  {
                    label: 'Organizations',
                    name: 'organizations',
                    type: 'select',
                    options: ['Organization1', 'Organization2'],
                  },
                  {
                    label: 'Groups',
                    name: 'groups',
                    type: 'select',
                    options: ['Group1', 'Group2'],
                  },
                  {
                    label: 'Products',
                    name: 'products',
                    type: 'select',
                    options: ['Product1', 'Product2'],
                  },
                  {
                    label: 'Services',
                    name: 'services',
                    type: 'select',
                    options: ['Service1', 'Service2'],
                  },
                  {
                    label: 'Offers',
                    name: 'offers',
                    type: 'select',
                    options: ['Offer1', 'Offer2'],
                  },
                  {
                    label: 'Requests',
                    name: 'requests',
                    type: 'select',
                    options: ['Request1', 'Request2'],
                  },
                  {
                    label: 'Gratis Points',
                    name: 'gratisPoints',
                    type: 'number',
                  },
                  {
                    label: 'Posts',
                    name: 'posts',
                    type: 'select',
                    options: ['Post1', 'Post2'],
                  },
                  {
                    label: 'Comments',
                    name: 'comments',
                    type: 'select',
                    options: ['Comment1', 'Comment2'],
                  },
                  {
                    label: 'Purchases',
                    name: 'purchases',
                    type: 'select',
                    options: ['Purchase1', 'Purchase2'],
                  },
                  {
                    label: 'In-Game Tokens',
                    name: 'inGameTokens',
                    type: 'number',
                  },
                  {
                    label: 'Friendships Type',
                    name: 'friendshipsType',
                    type: 'select',
                    options: ['Admire', 'Adore', 'Like', 'Dislike', 'Trust', 'Distrust', 'Neutral'],
                  },
                  { label: 'Friends', name: 'friends', type: 'select', options: ['User1', 'User2'] },
                  { label: 'Friend Requests', name: 'friendRequests', type: 'select', options: ['User1', 'User2'] },
                ],
              },
            ],
          },
          // Additional object types can be added here following the same structure
        ],
      },
      // You can define other object types here (e.g., Organization, Group, Event) following the same pattern
    ];

    // Dummy Data for Dropdowns
    const dummyData = {
      users: [
        { label: 'Cam Alot', value: 'U123' },
        { label: 'Barry Allen', value: 'U124' },
        { label: 'Emily R.', value: 'U125' },
        // Add more dummy users as needed
      ],
      organizations: [
        { label: 'HackHouse', value: 'Org001' },
        { label: 'Boulder Producers Guild', value: 'Org002' },
        // Add more dummy organizations as needed
      ],
      roles: [
        { label: 'CEO', value: 'Role001' },
        { label: 'COO', value: 'Role002' },
        { label: 'CMO', value: 'Role003' },
        // Add more dummy roles as needed
      ],
      skills: [
        { label: 'Programming', value: 'Skill001' },
        { label: 'Design', value: 'Skill002' },
        { label: 'Gardening', value: 'Skill003' },
        // Add more dummy skills as needed
      ],
      offers: [
        { label: 'Free Tutoring', value: 'Offer001' },
        { label: 'Tool Sharing', value: 'Offer002' },
        // Add more dummy offers as needed
      ],
      requests: [
        { label: 'Help Building Fence', value: 'Request001' },
        { label: 'Event Volunteers', value: 'Request002' },
        // Add more dummy requests as needed
      ],
      badges: [
        { label: 'Community Leader', value: 'Badge001' },
        { label: 'Volunteer', value: 'Badge002' },
        // Add more dummy badges as needed
      ],
      permissions: [
        { label: 'Edit', value: 'canEdit' },
        { label: 'View', value: 'canView' },
        { label: 'Take', value: 'canTake' },
        // Add more dummy permissions as needed
      ],
      projects: [
        { label: 'App Development', value: 'Project001' },
        { label: 'Urban Farming', value: 'Project002' },
        // Add more dummy projects as needed
      ],
      events: [
        { label: 'Hackathon', value: 'E123' },
        { label: 'Community Garden Planting', value: 'E124' },
        // Add more dummy events as needed
      ],
      groups: [
        { label: 'Boulder Producers Guild', value: 'G123' },
        { label: 'Community Volunteers', value: 'G124' },
        // Add more dummy groups as needed
      ],
      products: [
        { label: 'Organic Apples', value: 'Product001' },
        { label: 'Handmade Lanterns', value: 'Product002' },
        // Add more dummy products as needed
      ],
      services: [
        { label: 'Gardening Workshop', value: 'Service001' },
        { label: 'Web Design', value: 'Service002' },
        // Add more dummy services as needed
      ],
      locations: [
        { label: 'Cam\'s House', value: 'Location001' },
        { label: 'Community Center', value: 'Location002' },
        // Add more dummy locations as needed
      ],
    };

    // Main App Component
    function App() {
      const [selectedType, setSelectedType] = React.useState(objectTypes[0].name);
      const [formData, setFormData] = React.useState({});
      const [jsonOutput, setJsonOutput] = React.useState('');

      // Handle Tab Change
      const handleChange = (event, newValue) => {
        setSelectedType(newValue);
        setFormData({});
        setJsonOutput('');
      };

      // Update JSON Output whenever formData changes
      React.useEffect(() => {
        setJsonOutput(JSON.stringify(formData, null, 2));
      }, [formData]);

      // Get the schema for the selected object type
      const currentSchema = objectTypes.find(obj => obj.name === selectedType);

      return (
        <Box sx={{ width: '100%' }}>
          <Typography variant="h4" align="center" gutterBottom sx={{ mt: 4 }}>
            ONE Local Object Builder
          </Typography>
          <Tabs
            value={selectedType}
            onChange={handleChange}
            variant="scrollable"
            scrollButtons="auto"
            centered
          >
            {objectTypes.map((obj) => (
              <Tab key={obj.name} label={obj.name} value={obj.name} />
            ))}
          </Tabs>
          <Box sx={{ p: 3 }}>
            <ObjectForm
              schema={currentSchema}
              formData={formData}
              setFormData={setFormData}
              dummyData={dummyData}
            />
            <Typography variant="h6" sx={{ mt: 4 }}>
              JSON Output:
            </Typography>
            <Paper variant="outlined" className="json-output">
              <pre>{jsonOutput}</pre>
            </Paper>
          </Box>
        </Box>
      );
    }

    // ObjectForm Component
    function ObjectForm({ schema, formData, setFormData, dummyData }) {
      // Handle input changes
      const handleChange = (path, value) => {
        setFormData(prev => setNestedValue(prev, path, value));
      };

      // Recursive function to handle nested objects and arrays
      const renderFields = (properties, parentPath = '') => {
        return properties.map((prop, index) => {
          const currentPath = parentPath ? `${parentPath}.${prop.name}` : prop.name;
          const value = getNestedValue(formData, currentPath) || (prop.type === 'array' ? [] : (prop.type === 'object' ? {} : ''));

          switch (prop.type) {
            case 'text':
            case 'email':
            case 'tel':
            case 'url':
            case 'number':
            case 'date':
            case 'datetime-local':
            case 'password':
              return (
                <Box key={index} sx={{ mb: 3 }}>
                  <TextField
                    label={prop.label}
                    type={prop.type === 'textarea' ? 'text' : prop.type}
                    multiline={prop.type === 'textarea'}
                    rows={prop.type === 'textarea' ? 4 : 1}
                    fullWidth
                    required={prop.required}
                    disabled={prop.disabled}
                    value={value}
                    onChange={(e) => handleChange(currentPath, e.target.value)}
                    helperText={prop.helperText || ''}
                  />
                </Box>
              );
            case 'select':
              return (
                <Box key={index} sx={{ mb: 3 }}>
                  <FormControl fullWidth>
                    <InputLabel>{prop.label}</InputLabel>
                    <Select
                      value={value}
                      label={prop.label}
                      onChange={(e) => handleChange(currentPath, e.target.value)}
                    >
                      {prop.options.map((option, idx) => (
                        <MenuItem key={idx} value={option.value || option}>{option.label || option}</MenuItem>
                      ))}
                    </Select>
                  </FormControl>
                </Box>
              );
            case 'multiselect':
              // Determine options based on property name
              let options = [];
              if (prop.options) {
                options = prop.options.map(opt => ({ label: opt, value: opt }));
              } else {
                // Dynamically assign options from dummyData based on name
                const key = prop.name.replace(/([A-Z])/g, '_$1').toLowerCase();
                options = dummyData[key] || [];
              }

              return (
                <Box key={index} sx={{ mb: 3 }}>
                  <Autocomplete
                    multiple
                    options={options}
                    getOptionLabel={(option) => typeof option === 'string' ? option : option.label}
                    value={value.map(val => options.find(opt => opt.value === val) || val)}
                    onChange={(event, newValue) => {
                      const selectedValues = newValue.map(item => typeof item === 'string' ? item : item.value);
                      handleChange(currentPath, selectedValues);
                    }}
                    renderTags={(tagValue, getTagProps) =>
                      tagValue.map((option, idx) => (
                        <Chip label={option.label || option} {...getTagProps({ index: idx })} key={idx} />
                      ))
                    }
                    renderInput={(params) => (
                      <TextField {...params} label={prop.label} placeholder={`Select ${prop.label}`} />
                    )}
                  />
                </Box>
              );
            case 'checkbox':
              return (
                <Box key={index} sx={{ mb: 3 }}>
                  <FormControlLabel
                    control={
                      <Checkbox
                        checked={value}
                        onChange={(e) => handleChange(currentPath, e.target.checked)}
                      />
                    }
                    label={prop.label}
                  />
                </Box>
              );
            case 'object':
              return (
                <Box key={index} className="nested-form">
                  <Typography variant="h6" gutterBottom>
                    {prop.label}
                  </Typography>
                  {renderFields(prop.fields, currentPath)}
                </Box>
              );
            case 'array':
              return (
                <Box key={index} sx={{ mb: 3 }}>
                  <Typography variant="h6" gutterBottom>
                    {prop.label}
                  </Typography>
                  {value.map((item, idx) => (
                    <Box key={idx} sx={{ mb: 2, position: 'relative', padding: 2, border: '1px solid #ccc', borderRadius: 2 }}>
                      {renderFields(prop.fields, `${currentPath}[${idx}]`)}
                      <IconButton
                        aria-label="remove"
                        size="small"
                        sx={{ position: 'absolute', top: 0, right: 0 }}
                        onClick={() => removeArrayItem(currentPath, idx)}
                      >
                        <MaterialUI.Icon>close</MaterialUI.Icon>
                      </IconButton>
                    </Box>
                  ))}
                  <Button variant="contained" onClick={() => addArrayItem(currentPath, prop.fields)}>
                    Add {prop.label}
                  </Button>
                </Box>
              );
            default:
              return null;
          }
        });
      };

      // Helper functions to manage nested state
      const setNestedValue = (obj, path, value) => {
        const keys = path.split(/\.|\[|\].?/).filter(key => key);
        const lastKey = keys.pop();
        const nested = keys.reduce((acc, key) => {
          if (!acc[key]) acc[key] = {};
          return acc[key];
        }, obj);
        nested[lastKey] = value;
        return { ...obj };
      };

      const getNestedValue = (obj, path) => {
        return path.split(/\.|\[|\].?/).reduce((acc, part) => acc && acc[part], obj);
      };

      const addArrayItem = (path, fields) => {
        const currentArray = getNestedValue(formData, path) || [];
        const newItem = {};
        fields.forEach(field => {
          if (field.type === 'object') {
            newItem[field.name] = {};
          } else if (field.type === 'array') {
            newItem[field.name] = [];
          } else if (field.type === 'checkbox') {
            newItem[field.name] = false;
          } else {
            newItem[field.name] = '';
          }
        });
        handleChange(path, [...currentArray, newItem]);
      };

      const removeArrayItem = (path, index) => {
        const currentArray = getNestedValue(formData, path) || [];
        currentArray.splice(index, 1);
        handleChange(path, [...currentArray]);
      };

      // Render the form fields
      return (
        <Box>
          {renderFields(schema.properties)}
        </Box>
      );
    }

    // Render the App
    ReactDOM.createRoot(document.getElementById('root')).render(<App />);
  </script>
</body>
</html>
